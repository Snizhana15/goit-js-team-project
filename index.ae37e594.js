!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},i=n.parcelRequire09c9;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){r[e]=n},n.parcelRequire09c9=i);var a,c=i("bpxeT"),o=i("2TvXO"),s=i("dXyXQ"),u=i("dpMWy"),l=(c=i("bpxeT"),o=i("2TvXO"),i("fkvfI")),f=(s=i("dXyXQ"),u=i("dpMWy"),{});Object.defineProperty(f,"__esModule",{value:!0}),f.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e};var p=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,m=/^0o[0-7]+$/i,g=parseInt,_="object"==typeof n&&n&&n.Object===Object&&n,h="object"==typeof self&&self&&self.Object===Object&&self,y=_||h||Function("return this")(),b=Object.prototype.toString,x=Math.max,w=Math.min,M=function(){return y.Date.now()};function T(n){var t=void 0===n?"undefined":e(f)(n);return!!n&&("object"==t||"function"==t)}function O(n){if("number"==typeof n)return n;if(function(n){return"symbol"==(void 0===n?"undefined":e(f)(n))||function(e){return!!e&&"object"==typeof e}(n)&&"[object Symbol]"==b.call(n)}(n))return NaN;if(T(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=T(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(p,"");var r=v.test(n);return r||m.test(n)?g(n.slice(2),r?2:8):d.test(n)?NaN:+n}a=function(e,n,t){var r,i,a,c,o,s,u=0,l=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(n){var t=r,a=i;return r=i=void 0,u=n,c=e.apply(a,t)}function v(e){return u=e,o=setTimeout(g,n),l?d(e):c}function m(e){var t=e-s;return void 0===s||t>=n||t<0||f&&e-u>=a}function g(){var e=M();if(m(e))return _(e);o=setTimeout(g,function(e){var t=n-(e-s);return f?w(t,a-(e-u)):t}(e))}function _(e){return o=void 0,p&&r?d(e):(r=i=void 0,c)}function h(){var e=M(),t=m(e);if(r=arguments,i=this,s=e,t){if(void 0===o)return v(s);if(f)return o=setTimeout(g,n),d(s)}return void 0===o&&(o=setTimeout(g,n)),c}return n=O(n)||0,T(t)&&(l=!!t.leading,a=(f="maxWait"in t)?x(O(t.maxWait)||0,n):a,p="trailing"in t?!!t.trailing:p),h.cancel=function(){void 0!==o&&clearTimeout(o),u=0,r=s=i=o=void 0},h.flush=function(){return void 0===o?c:_(M())},h};var j=document.querySelector(".card-set"),k=document.querySelector(".header__form-input"),L=document.getElementById("spinner");k.addEventListener("input",e(a)((function(e){e.preventDefault(),""===(P=e.target.value)?function(){$.apply(this,arguments)}():function(){W.apply(this,arguments)}()}),1e3));var P="";function S(){return E.apply(this,arguments)}function E(){return(E=e(c)(e(o).mark((function n(){var t;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.getGenreList)();case 3:return t=e.sent.genres,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function N(e){return X.apply(this,arguments)}function X(){return(X=e(c)(e(o).mark((function n(t){var r,i,a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.getSearchQuery)(P,t);case 3:return r=e.sent,i=r.results,a=r.total_pages,0===r.total_results?Q():U(),e.abrupt("return",{movies:i,totalPages:a});case 11:e.prev=11,e.t0=e.catch(0),alert(e.t0);case 14:case"end":return e.stop()}}),n,null,[[0,11]])})))).apply(this,arguments)}function q(e){return D.apply(this,arguments)}function D(){return(D=e(c)(e(o).mark((function n(t){var r,i,a,c,s;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L.classList.add("spinner"),e.next=3,S();case 3:return r=e.sent,e.next=6,N(t);case 6:return i=e.sent,a=i.movies,c=i.totalPages,s=a.map((function(e){return F(e,r)})).join(""),j.innerHTML="",j.insertAdjacentHTML("afterbegin",s),L.classList.remove("spinner"),e.abrupt("return",c);case 14:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function F(e,n){var t=e.genre_ids,r=e.original_title,i=e.id,a=e.release_date,c=e.title,o=e.poster_path,s=function(e,n){return e.map((function(e){return n.find((function(n){return n.id===e})).name}))}(t,n),u=function(e){var n="";switch(e.length){case 1:n='<li class="card-set__genre-movie">'.concat(e[0],"</li>");break;case 2:n='<li class="card-set__genre-movie">'.concat(e[0],',&nbsp</li>\n                      <li class="card-set__genre-movie">').concat(e[1],"</li>");break;case 3:n='<li class="card-set__genre-movie">'.concat(e[0],',&nbsp</li>\n                      <li class="card-set__genre-movie">').concat(e[1],',&nbsp</li>\n                      <li class="card-set__genre-movie">').concat(e[2],"</li>");break;default:n='<li class="card-set__genre-movie">'.concat(e[0],',&nbsp</li>\n                      <li class="card-set__genre-movie">').concat(e[1],',&nbsp</li>\n                      <li class="card-set__genre-movie">Other</li>')}return n}(s),l=new Date(a).getFullYear().toString();return'\n        <li class="card-set__item" data-id="'.concat(i,'">\n            <div class="card-set__box-img">\n            <img\n                loading="lazy"\n                src="https://image.tmdb.org/t/p/original').concat(o,'"\n                alt="').concat(r,'"\n                class="card-set__img"  \n            />\n            </div>\n            <h3 class="card-set__title">').concat(c,'</h3>\n            <div class="card-set__description">\n            <ul class="card-set__genre">\n                ').concat(u,'\n            </ul>\n            <span class="card-set__genre-movie">&nbsp| ').concat(l,"</span>\n            </div>\n        </li>")}function W(){return(W=e(c)(e(o).mark((function n(){var t;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:t=e.sent,(0,u.changeMoviesPage)(t,q);case 4:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function $(){return($=e(c)(e(o).mark((function n(){var t;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.renderPopularMovies)();case 2:t=e.sent,(0,u.changeMoviesPage)(t,s.renderPopularMovies);case 4:case"end":return e.stop()}}),n)})))).apply(this,arguments)}var I=document.querySelector(".header__error-text");function Q(){I.classList.remove("is-hidden")}function U(){I.classList.add("is-hidden")}function H(){return(H=e(c)(e(o).mark((function n(){var t;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.renderPopularMovies)();case 2:t=e.sent,(0,u.changeMoviesPage)(t,s.renderPopularMovies);case 4:case"end":return e.stop()}}),n)})))).apply(this,arguments)}i("73ES2"),i("ivF4K"),i("UL92Z"),i("hJTci"),function(){H.apply(this,arguments)}()}();
//# sourceMappingURL=index.ae37e594.js.map
