function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},a=t.parcelRequire09c9;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){i[e]=t},t.parcelRequire09c9=a);var r=a("epB3k");const s=document.querySelector(".card-set");async function o(e){const t=await async function(){try{const{genres:e}=await(0,r.getGenreList)();return e}catch(e){alert(e)}}(),{movies:n,totalPages:i}=await async function(e){try{const{results:t,total_pages:n}=await(0,r.getPopularMovies)(e);return{movies:t,totalPages:n}}catch(e){alert(e)}}(e),a=n.map((e=>function(e,t){const{genre_ids:n,original_title:i,id:a,release_date:r,title:s,poster_path:o}=e,c=function(e){let t="";switch(e.length){case 1:t=`<li class="card-set__genre-movie">${e[0]}</li>`;break;case 2:t=`<li class="card-set__genre-movie">${e[0]},&nbsp</li>\n                      <li class="card-set__genre-movie">${e[1]}</li>`;break;case 3:t=`<li class="card-set__genre-movie">${e[0]},&nbsp</li>\n                      <li class="card-set__genre-movie">${e[1]},&nbsp</li>\n                      <li class="card-set__genre-movie">${e[2]}</li>`;break;default:t=`<li class="card-set__genre-movie">${e[0]},&nbsp</li>\n                      <li class="card-set__genre-movie">${e[1]},&nbsp</li>\n                      <li class="card-set__genre-movie">Інші</li>`}return t}(function(e,t){return e.map((e=>t.find((t=>t.id===e)).name))}(n,t)),l=new Date(r).getFullYear().toString();return`\n        <li class="card-set__item" data-id="${a}">\n            <div class="card-set__box-img">\n            <img\n                loading="lazy"\n                src="https://image.tmdb.org/t/p/original${o}"\n                alt="${i}"\n                class="card-set__img"\n                \n            />\n            </div>\n            <h3 class="card-set__title">${s}</h3>\n            <div class="card-set__description">\n            <ul class="card-set__genre">\n                ${c}\n            </ul>\n            <span class="card-set__genre-movie">&nbsp| ${l}</span>\n            </div>\n        </li>`}(e,t))).join("");return s.innerHTML="",s.insertAdjacentHTML("afterbegin",a),i}var c,l=a("2rqRD"),d=(r=a("epB3k"),l=a("2rqRD"),/^\s+|\s+$/g),u=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,m=/^0o[0-7]+$/i,_=parseInt,g="object"==typeof t&&t&&t.Object===Object&&t,v="object"==typeof self&&self&&self.Object===Object&&self,p=g||v||Function("return this")(),y=Object.prototype.toString,b=Math.max,h=Math.min,$=function(){return p.Date.now()};function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function L(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==y.call(e)}(e))return NaN;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(d,"");var n=f.test(e);return n||m.test(e)?_(e.slice(2),n?2:8):u.test(e)?NaN:+e}c=function(e,t,n){var i,a,r,s,o,c,l=0,d=!1,u=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=i,r=a;return i=a=void 0,l=t,s=e.apply(r,n)}function _(e){return l=e,o=setTimeout(v,t),d?m(e):s}function g(e){var n=e-c;return void 0===c||n>=t||n<0||u&&e-l>=r}function v(){var e=$();if(g(e))return p(e);o=setTimeout(v,function(e){var n=t-(e-c);return u?h(n,r-(e-l)):n}(e))}function p(e){return o=void 0,f&&i?m(e):(i=a=void 0,s)}function y(){var e=$(),n=g(e);if(i=arguments,a=this,c=e,n){if(void 0===o)return _(c);if(u)return o=setTimeout(v,t),m(c)}return void 0===o&&(o=setTimeout(v,t)),s}return t=L(t)||0,w(n)&&(d=!!n.leading,r=(u="maxWait"in n)?b(L(n.maxWait)||0,t):r,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==o&&clearTimeout(o),l=0,i=c=a=o=void 0},y.flush=function(){return void 0===o?s:p($())},y};const j=document.querySelector(".card-set");document.querySelector(".header__form-input").addEventListener("input",e(c)((function(e){e.preventDefault(),M=e.target.value,(0,r.getSearchQuery)(),async function(){const e=await k();(0,l.changeMoviesPage)(e>50?50:e,k)}()}),1e3));let M="";async function S(e){try{const{results:t,total_pages:n,total_results:i}=await(0,r.getSearchQuery)(M,e);return 0===i?(x.classList.remove("is-hidden"),T.classList.remove("is-hidden")):(x.classList.add("is-hidden"),T.classList.add("is-hidden")),{movies:t,totalPages:n}}catch(e){alert(e)}}async function k(e){const t=await async function(){try{const{genres:e}=await(0,r.getGenreList)();return e}catch(e){alert(e)}}(),{movies:n,totalPages:i}=await S(e),a=n.map((e=>function(e,t){const{genre_ids:n,original_title:i,id:a,release_date:r,title:s,poster_path:o}=e,c=function(e){let t="";switch(e.length){case 1:t=`<li class="card-set__genre-movie">${e[0]}</li>`;break;case 2:t=`<li class="card-set__genre-movie">${e[0]},&nbsp</li>\n                      <li class="card-set__genre-movie">${e[1]}</li>`;break;case 3:t=`<li class="card-set__genre-movie">${e[0]},&nbsp</li>\n                      <li class="card-set__genre-movie">${e[1]},&nbsp</li>\n                      <li class="card-set__genre-movie">${e[2]}</li>`;break;default:t=`<li class="card-set__genre-movie">${e[0]},&nbsp</li>\n                      <li class="card-set__genre-movie">${e[1]},&nbsp</li>\n                      <li class="card-set__genre-movie">Інші</li>`}return t}(function(e,t){return e.map((e=>t.find((t=>t.id===e)).name))}(n,t)),l=new Date(r).getFullYear().toString();return`\n        <li class="card-set__item" data-id="${a}">\n            <div class="card-set__box-img">\n            <img\n                loading="lazy"\n                src="https://image.tmdb.org/t/p/original${o}"\n                alt="${i}"\n                class="card-set__img"\n                \n            />\n            </div>\n            <h3 class="card-set__title">${s}</h3>\n            <div class="card-set__description">\n            <ul class="card-set__genre">\n                ${c}\n            </ul>\n            <span class="card-set__genre-movie">&nbsp| ${l}</span>\n            </div>\n        </li>`}(e,t))).join("");return j.innerHTML="",j.insertAdjacentHTML("afterbegin",a),i}const x=document.querySelector(".header__error-text"),T=document.querySelector(".img-search-error");a("fQE3M");const q={openModalBtn:document.querySelector("[data-modal-opens]"),modal:document.querySelector("[data-modals]"),body:document.querySelector("body")};q.openModalBtn.addEventListener("click",(function(){q.modal.classList.remove("is-hiddens"),document.body.classList.add("modal-open"),q.body.addEventListener("keyup",(function e(t){"Escape"===t.code&&(q.modal.classList.add("is-hiddens"),document.body.classList.remove("modal-open"),q.body.removeEventListener("keyup",e))})),q.modal.addEventListener("click",(function e(t){t.target.closest(".modals")||(q.modal.classList.add("is-hiddens"),document.body.classList.remove("modal-open"),q.modal.removeEventListener("click",e))}))})),a("31u3U"),a("fHPRY"),async function(){const e=await o();(0,l.changeMoviesPage)(e>50?50:e,o)}();
//# sourceMappingURL=index.a063199c.js.map
