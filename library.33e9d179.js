!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=t.parcelRequire09c9;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},t.parcelRequire09c9=r),r("73ES2"),r("UL92Z"),r("hJTci"),r("ivF4K");var i,c=r("bpxeT"),o=r("8nrFW"),s=r("2TvXO"),u=r("fkvfI"),l=r("dXyXQ"),d={cardSet:document.querySelector(".card-set"),showWatchedBtn:document.querySelector(".header-library__button--watched"),showQueueBtn:document.querySelector(".header-library__button--queue"),paginationSet:document.querySelector(".pagination")},p=document.querySelector(".header-library--watched--spinner"),g=document.querySelector(".header-library--queue--spinner"),f=0,v=10,m=function(){return JSON.parse(localStorage.getItem("watched")||"[]")},_=function(){return JSON.parse(localStorage.getItem("queue")||"[]")},b=function(){var t=JSON.parse(localStorage.getItem("watched")||"[]"),n=JSON.parse(localStorage.getItem("queue")||"[]");return e(o)(t).concat(e(o)(n)).filter((function(e,t,n){return n.indexOf(e)===t}))},S=(i=e(c)(e(s).mark((function t(n){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.map((function(e){return(0,u.getMovieById)(e).then((function(e){return h(e)}))}));case 2:e.sent;case 3:case"end":return e.stop()}}),t)}))),function(e){return i.apply(this,arguments)}),h=function(e){var t=e.id,n=e.poster_path,a=e.original_title,r=e.title,i=e.release_date,c=e.genres,o=e.vote_average,s=new Date(i).getFullYear().toString(),u=function(e,t){return e.map((function(e){return t.find((function(t){return t.id===e})).name}))}(c.map((function(e){return e.id})),c),f=(0,l.getGenresMarkup)(u),v='<li class="card-set__item" data-id="'.concat(t,'">\n                <div class="card-set__box-img"">\n                <img src="https://image.tmdb.org/t/p/original').concat(n,'" alt="').concat(a,'"\n                class="card-set__img"\n                />\n                </div>\n                <h3 class="card-set__title">').concat(r,'</h3>\n                <div class="card-set__description">\n                <ul class="card-set__genre">\n                    ').concat(f,'\n                </ul>\n                    <span class="card-set__production-year">&nbsp| ').concat(s,'&nbsp</span>\n                    <span class="card-set__rating">').concat(o,"</span>\n                </div>\n                </li>");d.cardSet.insertAdjacentHTML("afterbegin",v),p.classList.remove("spinner"),g.classList.remove("spinner")},L=function(e){f=Math.ceil(e.length/v)};d.showWatchedBtn.addEventListener("click",(function(){p.classList.add("spinner"),d.paginationSet.removeEventListener("click",E),d.paginationSet.removeEventListener("click",w);var e=m(),t=e.slice(0,v);d.cardSet.innerHTML="",L(e),S(t),N(f),d.paginationSet.addEventListener("click",k)})),d.showQueueBtn.addEventListener("click",(function(){g.classList.add("spinner"),d.paginationSet.removeEventListener("click",E),d.paginationSet.removeEventListener("click",k);var e=_(),t=e.slice(0,v);d.cardSet.innerHTML="",L(e),S(t),N(f),d.paginationSet.addEventListener("click",w)}));var y=function(e,t){var n=e*v-v,a=t.splice(n,v);d.cardSet.innerHTML="",S(a),N(f)},k=function(e){var t=m();getNumberPage=Number(e.target.closest(".pagination__button").id),y(getNumberPage,t)},w=function(e){var t=_();getNumberPage=Number(e.target.closest(".pagination__button").id),y(getNumberPage,t)},E=function(e){var t=b();getNumberPage=Number(e.target.closest(".pagination__button").id),btn=e.target.closest(".pagination__button"),console.log(btn),btn.classList.add("pagination__button--current"),y(getNumberPage,t)},N=function(e){markupEmpty=[];for(var t=1;t<=e;t++){var n='<li class="pagination__item">\n        <button class="pagination__button" id="'.concat(t,'">').concat(t,"</button>\n      </li>");markupEmpty.push(n)}var a=markupEmpty.join("");d.paginationSet.innerHTML="",d.paginationSet.insertAdjacentHTML("afterbegin",a)};(function(){d.paginationSet.removeEventListener("click",k),d.paginationSet.removeEventListener("click",w);var e=b(),t=e.slice(0,v);d.cardSet.innerHTML="",L(e),S(t),N(f),d.paginationSet.addEventListener("click",E)})()}();
//# sourceMappingURL=library.33e9d179.js.map
