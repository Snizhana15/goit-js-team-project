!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},i=n.parcelRequire09c9;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){r[e]=n},n.parcelRequire09c9=i),i("iE7OH").register(JSON.parse('{"EVgbq":"index.efbb44c7.js","l1OFH":"symbol.e0e566b2.svg","eUNyv":"no-poster.faaddcd9.png","7nwxg":"library.d0ae2bd3.js"}'));var a,s=i("bpxeT"),o=i("2TvXO"),c=i("dXyXQ");a=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("l1OFH");var l='<li class="movies-navigation__item">\n    <button\n      type="button"\n      class="movies-navigation__arrow-btn"\n      data-move="backward"\n    >\n      <svg class="movies-navigation__icon-arrow">\n        <use href="'.concat(a,'#icon-arrow-left"></use>\n      </svg>\n    </button>\n  </li>\n  <li class="movies-navigation__item">\n    <ul class="number-page">\n      <li class="number-page__item">\n        <button type="button" class="number-page__btn">1</button>\n      </li>\n      <li class="number-page__item">\n        <button type="button" class="number-page__btn">13</button>\n      </li>\n      <li class="number-page__item">\n        <button type="button" class="number-page__btn">14</button>\n      </li>\n      <li class="number-page__item">\n        <button type="button" class="number-page__btn">15</button>\n      </li>\n      <li class="number-page__item">\n        <button type="button" class="number-page__btn">16</button>\n      </li>\n      <li class="number-page__item">\n        <button type="button" class="number-page__btn">17</button>\n      </li>\n      <li class="number-page__item">\n        <button type="button" class="number-page__btn">20</button>\n      </li>\n    </ul>\n  </li>\n  <li class="movies-navigation__item">\n    <button\n      type="button"\n      class="movies-navigation__arrow-btn"\n      data-move="forward"\n    >\n      <svg class="movies-navigation__icon-arrow">\n        <use href="').concat(a,'#icon-arrow-right"></use>\n      </svg>\n    </button>\n  </li>'),u=document.querySelector(".movies-navigation");function d(e,n){var t=1;u.innerHTML="",u.insertAdjacentHTML("afterbegin",l);var r=document.querySelector('[data-move="backward"]'),i=document.querySelector('[data-move="forward"]'),a=document.querySelector(".number-page"),s=document.querySelector(".card-set");function o(e){e.removeAttribute("disabled"),e.classList.remove("movies-navigation__arrow-btn--disabled")}function c(e){e.setAttribute("disabled",""),e.classList.add("movies-navigation__arrow-btn--disabled")}function d(){if(e<6)return i.style.display="none",r.style.display="none",function(){var n="";a.innerHTML="";for(var t=0;t<e+2;t+=1)n+='<li class="number-page__item">\n                <button type="button" class="number-page__btn">'.concat(t,"</button>\n              </li>");a.insertAdjacentHTML("afterbegin",n)}(),v(),m(),void a.children[1].firstElementChild.classList.add("number-page__btn--current");v(),g(),a.children[1].firstElementChild.classList.add("number-page__btn--current"),a.lastElementChild.firstElementChild.textContent=String(e),c(r),o(i),y(),x()}function f(){document.querySelector(".number-page__btn--current").classList.remove("number-page__btn--current")}function p(){f(),a.children[t].firstElementChild.classList.add("number-page__btn--current")}function b(){f(),a.children[t-e+5].firstElementChild.classList.add("number-page__btn--current")}function m(){a.lastElementChild.style.display="none",a.children[a.children.length-2].style.marginRight="0px"}function v(){a.firstElementChild.style.display="none"}function _(){a.firstElementChild.style.display="list-item"}function g(){a.lastElementChild.style.display="list-item",a.children[a.children.length-2].style.marginRight="16px"}function h(){for(var e=1;e<a.children.length-1;e+=1){var n=t-3+e;a.children[e].firstElementChild.textContent=n.toString()}}function y(){for(var e=1;e<a.children.length-1;e+=1){var n=e;a.children[e].firstElementChild.textContent=n.toString()}}function w(){for(var n=1;n<a.children.length-1;n+=1){var t=e-5+n;a.children[n].firstElementChild.textContent=t.toString()}}function x(){window.innerWidth<768&&(v(),m())}d(),r.addEventListener("click",(function(){n(t-=1),s.scrollIntoView(),o(i),1===t&&c(r);if(t>e-3)return void b();t<4&&(v(),p());t>=3&&t<=e-3&&(g(),h());x()})),i.addEventListener("click",(function(){n(t+=1),s.scrollIntoView(),o(r),t===e&&c(i);if(t<4)return void p();t>e-3&&(m(),b());t>=4&&t<=e-2&&(_(),h());x()})),a.addEventListener("click",(function(l){if("BUTTON"!==l.target.nodeName)return;if(l.target.classList.contains("number-page__btn--current"))return;if(t=Number(l.target.textContent),n(t),s.scrollIntoView(),1===t)return f(),void d();if(t===e)return f(),void function(){m(),e>5&&_();if(a.children[e>=5?5:e].firstElementChild.classList.add("number-page__btn--current"),o(r),c(i),e<=5)return void y();w()}();t>=4&&t<=e-3&&(f(),a.children[3].firstElementChild.classList.add("number-page__btn--current"),_(),g(),o(i),o(r),h());if(t<4)return p(),v(),e>5&&g(),o(i),void y();t>e-3&&(b(),m(),e>5&&_(),o(i),o(r),w());x()}))}s=i("bpxeT"),o=i("2TvXO");var f,p=i("fkvfI");c=i("dXyXQ");f=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("eUNyv");var b,m={};Object.defineProperty(m,"__esModule",{value:!0}),m.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e};var v=/^\s+|\s+$/g,_=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,h=/^0o[0-7]+$/i,y=parseInt,w="object"==typeof n&&n&&n.Object===Object&&n,x="object"==typeof self&&self&&self.Object===Object&&self,E=w||x||Function("return this")(),L=Object.prototype.toString,S=Math.max,C=Math.min,O=function(){return E.Date.now()};function T(n){var t=void 0===n?"undefined":e(m)(n);return!!n&&("object"==t||"function"==t)}function k(n){if("number"==typeof n)return n;if(function(n){return"symbol"==(void 0===n?"undefined":e(m)(n))||function(e){return!!e&&"object"==typeof e}(n)&&"[object Symbol]"==L.call(n)}(n))return NaN;if(T(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=T(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(v,"");var r=g.test(n);return r||h.test(n)?y(n.slice(2),r?2:8):_.test(n)?NaN:+n}b=function(e,n,t){var r,i,a,s,o,c,l=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(n){var t=r,a=i;return r=i=void 0,l=n,s=e.apply(a,t)}function b(e){return l=e,o=setTimeout(v,n),u?p(e):s}function m(e){var t=e-c;return void 0===c||t>=n||t<0||d&&e-l>=a}function v(){var e=O();if(m(e))return _(e);o=setTimeout(v,function(e){var t=n-(e-c);return d?C(t,a-(e-l)):t}(e))}function _(e){return o=void 0,f&&r?p(e):(r=i=void 0,s)}function g(){var e=O(),t=m(e);if(r=arguments,i=this,c=e,t){if(void 0===o)return b(c);if(d)return o=setTimeout(v,n),p(c)}return void 0===o&&(o=setTimeout(v,n)),s}return n=k(n)||0,T(t)&&(u=!!t.leading,a=(d="maxWait"in t)?S(k(t.maxWait)||0,n):a,f="trailing"in t?!!t.trailing:f),g.cancel=function(){void 0!==o&&clearTimeout(o),l=0,r=c=i=o=void 0},g.flush=function(){return void 0===o?s:_(O())},g};var H=document.querySelector(".card-set"),j=document.querySelector(".header__form-input"),N=document.getElementById("spinner");j.addEventListener("input",e(b)((function(e){e.preventDefault(),""===(M=e.target.value.trim())?X():function(){V.apply(this,arguments)}()}),1e3));var M="";function q(){return F.apply(this,arguments)}function F(){return(F=e(s)(e(o).mark((function n(){var t;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.getGenreList)();case 3:return t=e.sent.genres,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function R(e){return A.apply(this,arguments)}function A(){return(A=e(s)(e(o).mark((function n(t){var r,i,a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.getSearchQuery)(M,t);case 3:return r=e.sent,i=r.results,a=r.total_pages,0===r.total_results?(B(),X()):$(),e.abrupt("return",{movies:i,totalPages:a});case 11:e.prev=11,e.t0=e.catch(0),alert(e.t0);case 14:case"end":return e.stop()}}),n,null,[[0,11]])})))).apply(this,arguments)}function I(e){return U.apply(this,arguments)}function U(){return(U=e(s)(e(o).mark((function n(t){var r,i,a,s,c;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N.classList.add("spinner"),r=null,localStorage.getItem("genres")){e.next=9;break}return e.next=5,q();case 5:r=e.sent,localStorage.setItem("genres",JSON.stringify(r)),e.next=10;break;case 9:r=JSON.parse(localStorage.getItem("genres"));case 10:return e.next=12,R(t);case 12:return i=e.sent,a=i.movies,s=i.totalPages,c=a.map((function(e){return P(e,r)})).join(""),H.innerHTML="",H.insertAdjacentHTML("afterbegin",c),N.classList.remove("spinner"),e.abrupt("return",s);case 20:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function P(e,n){var t=e.genre_ids,r=e.original_title,i=e.id,a=e.release_date,s=e.title,o=e.poster_path,c=function(e,n){return e.map((function(e){return n.find((function(n){return n.id===e})).name}))}(t,n),l=function(e){var n="";switch(e.length){case 0:n='<li class="card-set__genre-movie">Genre\'s list is empty</li>';break;case 1:n='<li class="card-set__genre-movie">'.concat(e[0],"</li>");break;case 2:n='<li class="card-set__genre-movie">'.concat(e[0],',&nbsp</li>\n                      <li class="card-set__genre-movie">').concat(e[1],"</li>");break;case 3:n='<li class="card-set__genre-movie">'.concat(e[0],',&nbsp</li>\n                      <li class="card-set__genre-movie">').concat(e[1],',&nbsp</li>\n                      <li class="card-set__genre-movie">').concat(e[2],"</li>");break;default:n='<li class="card-set__genre-movie">'.concat(e[0],',&nbsp</li>\n                      <li class="card-set__genre-movie">').concat(e[1],',&nbsp</li>\n                      <li class="card-set__genre-movie">Other</li>')}return n}(c),u=a?new Date(a).getFullYear().toString():"Unknown",d=o?"https://image.tmdb.org/t/p/original".concat(o):"".concat(f);return'\n        <li class="card-set__item" data-id="'.concat(i,'">\n            <div class="card-set__box-img">\n            <img\n                loading="lazy"\n                src="').concat(d,'"\n                alt="').concat(r,'"\n                class="card-set__img"  \n            />\n            </div>\n            <h3 class="card-set__title">').concat(s,'</h3>\n            <div class="card-set__description">\n            <ul class="card-set__genre">\n                ').concat(l,'\n            </ul>\n            <span class="card-set__genre-movie">&nbsp| ').concat(u,"</span>\n            </div>\n        </li>")}function V(){return(V=e(s)(e(o).mark((function n(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:d(e.sent,I);case 4:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function X(){return D.apply(this,arguments)}function D(){return(D=e(s)(e(o).mark((function n(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.renderPopularMovies)();case 2:d(e.sent,c.renderPopularMovies);case 4:case"end":return e.stop()}}),n)})))).apply(this,arguments)}var J=document.querySelector(".header__error-text");function B(){J.classList.remove("is-hidden"),setTimeout((function(){J.classList.add("is-hidden")}),3e3)}function $(){J.classList.add("is-hidden")}function Q(){return(Q=e(s)(e(o).mark((function n(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.renderPopularMovies)();case 2:d(e.sent,c.renderPopularMovies);case 4:case"end":return e.stop()}}),n)})))).apply(this,arguments)}i("73ES2"),i("ivF4K"),function(){Q.apply(this,arguments)}()}();
//# sourceMappingURL=index.efbb44c7.js.map
