!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},i=n.parcelRequire09c9;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){r[e]=n},n.parcelRequire09c9=i),i("iE7OH").register(JSON.parse('{"EVgbq":"index.b6d2dad7.js","eUNyv":"no-poster.faaddcd9.png","7nwxg":"library.8eb1f8e2.js"}'));var a,c=i("bpxeT"),o=i("2TvXO"),s=i("dXyXQ"),u=i("dpMWy"),l=(c=i("bpxeT"),o=i("2TvXO"),i("fkvfI"));s=i("dXyXQ"),u=i("dpMWy");a=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("eUNyv");var f,p={};Object.defineProperty(p,"__esModule",{value:!0}),p.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e};var d=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,_=/^0o[0-7]+$/i,m=parseInt,b="object"==typeof n&&n&&n.Object===Object&&n,h="object"==typeof self&&self&&self.Object===Object&&self,y=b||h||Function("return this")(),x=Object.prototype.toString,w=Math.max,O=Math.min,M=function(){return y.Date.now()};function T(n){var t=void 0===n?"undefined":e(p)(n);return!!n&&("object"==t||"function"==t)}function j(n){if("number"==typeof n)return n;if(function(n){return"symbol"==(void 0===n?"undefined":e(p)(n))||function(e){return!!e&&"object"==typeof e}(n)&&"[object Symbol]"==x.call(n)}(n))return NaN;if(T(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=T(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(d,"");var r=g.test(n);return r||_.test(n)?m(n.slice(2),r?2:8):v.test(n)?NaN:+n}f=function(e,n,t){var r,i,a,c,o,s,u=0,l=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(n){var t=r,a=i;return r=i=void 0,u=n,c=e.apply(a,t)}function v(e){return u=e,o=setTimeout(_,n),l?d(e):c}function g(e){var t=e-s;return void 0===s||t>=n||t<0||f&&e-u>=a}function _(){var e=M();if(g(e))return m(e);o=setTimeout(_,function(e){var t=n-(e-s);return f?O(t,a-(e-u)):t}(e))}function m(e){return o=void 0,p&&r?d(e):(r=i=void 0,c)}function b(){var e=M(),t=g(e);if(r=arguments,i=this,s=e,t){if(void 0===o)return v(s);if(f)return o=setTimeout(_,n),d(s)}return void 0===o&&(o=setTimeout(_,n)),c}return n=j(n)||0,T(t)&&(l=!!t.leading,a=(f="maxWait"in t)?w(j(t.maxWait)||0,n):a,p="trailing"in t?!!t.trailing:p),b.cancel=function(){void 0!==o&&clearTimeout(o),u=0,r=s=i=o=void 0},b.flush=function(){return void 0===o?c:m(M())},b};var E=document.querySelector(".card-set"),S=document.querySelector(".header__form-input"),k=document.getElementById("spinner");S.addEventListener("input",e(f)((function(e){e.preventDefault(),""===(L=e.target.value.trim())?D():function(){X.apply(this,arguments)}()}),1e3));var L="";function H(){return N.apply(this,arguments)}function N(){return(N=e(c)(e(o).mark((function n(){var t;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.getGenreList)();case 3:return t=e.sent.genres,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function P(e){return q.apply(this,arguments)}function q(){return(q=e(c)(e(o).mark((function n(t){var r,i,a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.getSearchQuery)(L,t);case 3:return r=e.sent,i=r.results,a=r.total_pages,0===r.total_results?($(),D()):I(),e.abrupt("return",{movies:i,totalPages:a});case 11:e.prev=11,e.t0=e.catch(0),alert(e.t0);case 14:case"end":return e.stop()}}),n,null,[[0,11]])})))).apply(this,arguments)}function F(e){return U.apply(this,arguments)}function U(){return(U=e(c)(e(o).mark((function n(t){var r,i,a,c,s;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.classList.add("spinner"),e.next=3,H();case 3:return r=e.sent,e.next=6,P(t);case 6:return i=e.sent,a=i.movies,c=i.totalPages,s=a.map((function(e){return R(e,r)})).join(""),E.innerHTML="",E.insertAdjacentHTML("afterbegin",s),k.classList.remove("spinner"),e.abrupt("return",c);case 14:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function R(e,n){var t=e.genre_ids,r=e.original_title,i=e.id,c=e.release_date,o=e.title,s=e.poster_path,u=function(e,n){return e.map((function(e){return n.find((function(n){return n.id===e})).name}))}(t,n),l=function(e){var n="";switch(e.length){case 1:n='<li class="card-set__genre-movie">'.concat(e[0],"</li>");break;case 2:n='<li class="card-set__genre-movie">'.concat(e[0],',&nbsp</li>\n                      <li class="card-set__genre-movie">').concat(e[1],"</li>");break;case 3:n='<li class="card-set__genre-movie">'.concat(e[0],',&nbsp</li>\n                      <li class="card-set__genre-movie">').concat(e[1],',&nbsp</li>\n                      <li class="card-set__genre-movie">').concat(e[2],"</li>");break;default:n='<li class="card-set__genre-movie">'.concat(e[0],',&nbsp</li>\n                      <li class="card-set__genre-movie">').concat(e[1],',&nbsp</li>\n                      <li class="card-set__genre-movie">Other</li>')}return n}(u),f=c?new Date(c).getFullYear().toString():"Unknown",p=s?"https://image.tmdb.org/t/p/original".concat(s):"".concat(a);return'\n        <li class="card-set__item" data-id="'.concat(i,'">\n            <div class="card-set__box-img">\n            <img\n                loading="lazy"\n                src="').concat(p,'"\n                alt="').concat(r,'"\n                class="card-set__img"  \n            />\n            </div>\n            <h3 class="card-set__title">').concat(o,'</h3>\n            <div class="card-set__description">\n            <ul class="card-set__genre">\n                ').concat(l,'\n            </ul>\n            <span class="card-set__genre-movie">&nbsp| ').concat(f,"</span>\n            </div>\n        </li>")}function X(){return(X=e(c)(e(o).mark((function n(){var t;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:t=e.sent,(0,u.changeMoviesPage)(t,F);case 4:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function D(){return A.apply(this,arguments)}function A(){return(A=e(c)(e(o).mark((function n(){var t;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.renderPopularMovies)();case 2:t=e.sent,(0,u.changeMoviesPage)(t,s.renderPopularMovies);case 4:case"end":return e.stop()}}),n)})))).apply(this,arguments)}var W=document.querySelector(".header__error-text");function $(){W.classList.remove("is-hidden")}function I(){W.classList.add("is-hidden")}function J(){return(J=e(c)(e(o).mark((function n(){var t;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.renderPopularMovies)();case 2:t=e.sent,(0,u.changeMoviesPage)(t,s.renderPopularMovies);case 4:case"end":return e.stop()}}),n)})))).apply(this,arguments)}i("73ES2"),i("ivF4K"),i("UL92Z"),i("hJTci"),function(){J.apply(this,arguments)}()}();
//# sourceMappingURL=index.b6d2dad7.js.map
