function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},r=t.parcelRequire09c9;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},t.parcelRequire09c9=r),r.register("epB3k",(function(t,n){e(t.exports,"getPopularMovies",(function(){return r})),e(t.exports,"getSearchQuery",(function(){return s})),e(t.exports,"getMovieById",(function(){return o})),e(t.exports,"getGenreList",(function(){return l}));const i="fadee9dfff8cb6b1bff36771479589d6";function r(e=1){return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${i}&page=${e}`).then((e=>e.json())).then((e=>{var t;if(null!==(t=e.success)&&void 0!==t&&!t)throw new Error(e.status_message);return e}))}function s(e,t=1){return fetch(`https://api.themoviedb.org/3/search/movie?api_key=${i}&query=${e}&language=uk&page=${t}&include_adult=false`).then((e=>e.json())).then((e=>{var t;if(null!==(t=e.success)&&void 0!==t&&!t)throw new Error(e.status_message);return e}))}function o(e){return fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=${i}&language=uk`).then((e=>e.json())).then((e=>{var t;if(null!==(t=e.success)&&void 0!==t&&!t)throw new Error(e.status_message);return e}))}function l(){return fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${i}&language=uk`).then((e=>e.json())).then((e=>{var t;if(null!==(t=e.success)&&void 0!==t&&!t)throw new Error(e.status_message);return e}))}})),r.register("2rqRD",(function(t,n){e(t.exports,"changeMoviesPage",(function(){return c}));let i=1;const r=document.querySelector('[data-move="backward"]'),s=document.querySelector('[data-move="forward"]'),o=document.querySelector(".number-page"),l=document.querySelector(".card-set");function c(e,t){function n(e){e.removeAttribute("disabled"),e.classList.remove("movies-navigation__arrow-btn--disabled")}function c(e){e.setAttribute("disabled",""),e.classList.add("movies-navigation__arrow-btn--disabled")}function a(){if(e<6)return s.style.display="none",r.style.display="none",function(){let t="";o.innerHTML="";for(let n=0;n<e+2;n+=1)t+=`<li class="number-page__item">\n                <button type="button" class="number-page__btn">${n}</button>\n              </li>`;o.insertAdjacentHTML("afterbegin",t)}(),m(),f(),void o.children[1].firstElementChild.classList.add("number-page__btn--current");m(),_(),o.children[1].firstElementChild.classList.add("number-page__btn--current"),o.lastElementChild.firstElementChild.textContent=String(e),c(r),n(s),b(),y()}function d(){document.querySelector(".number-page__btn--current").classList.remove("number-page__btn--current")}function u(){d(),o.children[i].firstElementChild.classList.add("number-page__btn--current")}function p(){d(),o.children[i-e+5].firstElementChild.classList.add("number-page__btn--current")}function f(){o.lastElementChild.style.display="none",o.children[o.children.length-2].style.marginRight="0px"}function m(){o.firstElementChild.style.display="none"}function g(){o.firstElementChild.style.display="list-item"}function _(){o.lastElementChild.style.display="list-item",o.children[o.children.length-2].style.marginRight="16px"}function h(){for(let e=1;e<o.children.length-1;e+=1){const t=i-3+e;o.children[e].firstElementChild.textContent=t.toString()}}function b(){for(let e=1;e<o.children.length-1;e+=1){const t=e;o.children[e].firstElementChild.textContent=t.toString()}}function v(){for(let t=1;t<o.children.length-1;t+=1){const n=e-5+t;o.children[t].firstElementChild.textContent=n.toString()}}function y(){window.innerWidth<768&&(m(),f())}a(),r.addEventListener("click",(function(){i-=1,t(i),l.scrollIntoView(),n(s),1===i&&c(r);if(i>e-3)return void p();i<4&&(m(),u());i>=3&&i<=e-3&&(_(),h());y()})),s.addEventListener("click",(function(){i+=1,t(i),l.scrollIntoView(),n(r),i===e&&c(s);if(i<4)return void u();i>e-3&&(f(),p());i>=4&&i<=e-2&&(g(),h());y()})),o.addEventListener("click",(function(w){if("BUTTON"!==w.target.nodeName)return;if(w.target.classList.contains("number-page__btn--current"))return;if(i=Number(w.target.textContent),t(i),l.scrollIntoView(),1===i)return d(),void a();if(i===e)return d(),void function(){f(),e>5&&g();if(o.children[e>=5?5:e].firstElementChild.classList.add("number-page__btn--current"),n(r),c(s),e<=5)return void b();v()}();i>=4&&i<=e-3&&(d(),o.children[3].firstElementChild.classList.add("number-page__btn--current"),g(),_(),n(s),n(r),h());if(i<4)return u(),m(),e>5&&_(),n(s),void b();i>e-3&&(p(),f(),e>5&&g(),n(s),n(r),v());y()}))}})),r.register("fQE3M",(function(e,t){var n=r("epB3k"),i=r("fHPRY");i=r("fHPRY");const s={openModalFilm:document.querySelector(".card-set"),closeModalFilm:document.querySelector(".film-card__button-close"),body:document.querySelector("body"),backdropModalFilm:document.querySelector(".backdrop"),modalFilm:document.querySelector(".film-card__box")},o=document.querySelector(".spinner--modal"),l=e=>{const{poster_path:t,title:n,id:i,vote_average:r,vote_count:o,popularity:l,original_title:c,genres:a,overview:d}=e,u=`<div class="film-card__image-block">\n      <img\n        class="film-card__image"\n        src="https://image.tmdb.org/t/p/original${t}"\n        alt="film"\n      />\n    </div>\n    <div class="film-card__description">\n      <h1 class="film-card__description-title">${n}</h1>\n      <ul class="film-card__description-set">\n        <li class="description-set">\n          <p class="description-set__text">Vote / Votes</p>\n          <p class="description-set__value">\n            <span class="description-set__rating">${r}</span>\n            <span class="description-set__separator">/</span>\n            <span class="description-set__vote">${o}</span>\n          </p>\n        </li>\n        <li class="description-set">\n          <p class="description-set__text">Popularity</p>\n          <p class="description-set__value">${l}</p>\n        </li>\n        <li class="description-set">\n          <p class="description-set__text">Original Title</p>\n          <p class="description-set__value">${c}</p>\n        </li>\n        <li class="description-set">\n          <p class="description-set__text">Genre</p>\n          <p class="description-set__value">${a.map((e=>e.name)).join(", ")}</p>\n        </li>\n      </ul>\n      <div class="film-card__description-about">\n        <h2 class="description-about__title">About</h2>\n        <p class="description-about__text">${d}</p>\n      </div>\n      <div class="film-card__description-button">\n        <button class="description-button description-button__watched" data-id="${i}">\n          add to Watched\n        </button>\n        <button class="description-button description-button__queue" data-id="${i}">\n          add to queue\n        </button>\n      </div>\n    </div>\n  </div>`;s.modalFilm.insertAdjacentHTML("beforeend",u)},c=e=>{"Escape"===e.code&&(console.log(e.code),s.backdropModalFilm.classList.add("visually-hidden"),s.body.style.overflow="visible",s.body.removeEventListener("keydown",c))},a=e=>{e.target.closest(".film-card")||(s.backdropModalFilm.classList.add("visually-hidden"),s.body.style.overflow="visible")};s.openModalFilm.addEventListener("click",(async e=>{if(o.classList.add("spinner"),!e.target.closest(".card-set__item"))return;s.modalFilm.innerHTML="",s.backdropModalFilm.classList.remove("visually-hidden"),s.body.style.overflow="hidden";const t=e.target.closest(".card-set__item").dataset.id,r=await(0,n.getMovieById)(t);l(r);const d=document.querySelector(".description-button__watched"),u=document.querySelector(".description-button__queue");(0,i.changeWatchedButtonCondition)(t,d),(0,i.changeQueueButtonCondition)(t,u),o.classList.remove("spinner"),s.body.addEventListener("keydown",c),s.backdropModalFilm.addEventListener("click",a)})),s.closeModalFilm.addEventListener("click",(()=>{s.backdropModalFilm.classList.add("visually-hidden"),s.body.style.overflow="visible"}))})),r.register("fHPRY",(function(t,n){e(t.exports,"changeWatchedButtonCondition",(function(){return i})),e(t.exports,"changeQueueButtonCondition",(function(){return r}));const i=(e,t)=>{const n=localStorage.getItem("watched"),i=JSON.parse(n);i&&i.includes(e)&&(t.textContent="in watched",t.style.backgroundColor="lightgray",t.setAttribute("disabled",""))},r=(e,t)=>{const n=localStorage.getItem("queue"),i=JSON.parse(n);i&&i.includes(e)&&(t.textContent="in queue",t.style.backgroundColor="lightgray",t.setAttribute("disabled",""))}})),r.register("31u3U",(function(e,t){const n=document.querySelector(".film-card__box");n.addEventListener("click",(function(e){if(!e.target.closest(".description-button__watched"))return;const t=e.target.closest(".description-button__watched").dataset.id,n=JSON.parse(localStorage.getItem("watched")||"[]"),i=t;if(n.includes(i))return;n.push(i),localStorage.setItem("watched",JSON.stringify(n)),alert("Ви дадали даний фільм до Watched")})),n.addEventListener("click",(function(e){if(!e.target.closest(".description-button__queue"))return;const t=e.target.closest(".description-button__queue").dataset.id,n=JSON.parse(localStorage.getItem("queue")||"[]"),i=t;if(n.includes(i))return;n.push(i),localStorage.setItem("queue",JSON.stringify(n)),alert("Ви дадали даний фільм до Queue")}))}));
//# sourceMappingURL=index.af5c761a.js.map
