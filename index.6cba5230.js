function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequire09c9;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequire09c9=i);var a,s=i("93eWd"),o=i("2rqRD"),c=i("epB3k"),l=(o=i("2rqRD"),/^\s+|\s+$/g),u=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt,v="object"==typeof t&&t&&t.Object===Object&&t,g="object"==typeof self&&self&&self.Object===Object&&self,_=v||g||Function("return this")(),m=Object.prototype.toString,y=Math.max,b=Math.min,h=function(){return _.Date.now()};function $(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function w(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==m.call(e)}(e))return NaN;if($(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=$(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(l,"");var n=d.test(e);return n||f.test(e)?p(e.slice(2),n?2:8):u.test(e)?NaN:+e}a=function(e,t,n){var r,i,a,s,o,c,l=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,a=i;return r=i=void 0,l=t,s=e.apply(a,n)}function v(e){return l=e,o=setTimeout(_,t),u?p(e):s}function g(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=a}function _(){var e=h();if(g(e))return m(e);o=setTimeout(_,function(e){var n=t-(e-c);return d?b(n,a-(e-l)):n}(e))}function m(e){return o=void 0,f&&r?p(e):(r=i=void 0,s)}function j(){var e=h(),n=g(e);if(r=arguments,i=this,c=e,n){if(void 0===o)return v(c);if(d)return o=setTimeout(_,t),p(c)}return void 0===o&&(o=setTimeout(_,t)),s}return t=w(t)||0,$(n)&&(u=!!n.leading,a=(d="maxWait"in n)?y(w(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),j.cancel=function(){void 0!==o&&clearTimeout(o),l=0,r=c=i=o=void 0},j.flush=function(){return void 0===o?s:m(h())},j};const j=document.querySelector(".card-set"),x=document.querySelector(".header__form-input"),L=document.getElementById("spinner");x.addEventListener("input",e(a)((function(e){e.preventDefault(),M=e.target.value,async function(){const e=await T();(0,o.changeMoviesPage)(e>50?50:e,T)}()}),1e3));let M="";async function O(e){try{const{results:t,total_pages:n,total_results:r}=await(0,c.getSearchQuery)(M,e);return 0===r?(q.classList.remove("is-hidden"),S.classList.remove("is-hidden")):(q.classList.add("is-hidden"),S.classList.add("is-hidden")),{movies:t,totalPages:n}}catch(e){alert(e)}}async function T(e){L.classList.add("spinner");const t=await async function(){try{const{genres:e}=await(0,c.getGenreList)();return e}catch(e){alert(e)}}(),{movies:n,totalPages:r}=await O(e),i=n.map((e=>function(e,t){const{genre_ids:n,original_title:r,id:i,release_date:a,title:s,poster_path:o}=e,c=function(e){let t="";switch(e.length){case 1:t=`<li class="card-set__genre-movie">${e[0]}</li>`;break;case 2:t=`<li class="card-set__genre-movie">${e[0]},&nbsp</li>\n                      <li class="card-set__genre-movie">${e[1]}</li>`;break;case 3:t=`<li class="card-set__genre-movie">${e[0]},&nbsp</li>\n                      <li class="card-set__genre-movie">${e[1]},&nbsp</li>\n                      <li class="card-set__genre-movie">${e[2]}</li>`;break;default:t=`<li class="card-set__genre-movie">${e[0]},&nbsp</li>\n                      <li class="card-set__genre-movie">${e[1]},&nbsp</li>\n                      <li class="card-set__genre-movie">Other</li>`}return t}(function(e,t){return e.map((e=>t.find((t=>t.id===e)).name))}(n,t)),l=new Date(a).getFullYear().toString();return`\n        <li class="card-set__item" data-id="${i}">\n            <div class="card-set__box-img">\n            <img\n                loading="lazy"\n                src="https://image.tmdb.org/t/p/original${o}"\n                alt="${r}"\n                class="card-set__img"\n                \n            />\n            </div>\n            <h3 class="card-set__title">${s}</h3>\n            <div class="card-set__description">\n            <ul class="card-set__genre">\n                ${c}\n            </ul>\n            <span class="card-set__genre-movie">&nbsp| ${l}</span>\n            </div>\n        </li>`}(e,t))).join("");return j.innerHTML="",j.insertAdjacentHTML("afterbegin",i),L.classList.remove("spinner"),r}const q=document.querySelector(".header__error-text"),S=document.querySelector(".img-search-error");i("fQE3M"),i("cddKH"),i("31u3U"),i("fHPRY"),async function(){const e=await(0,s.renderPopularMovies)();(0,o.changeMoviesPage)(e>50?50:e,s.renderPopularMovies)}();
//# sourceMappingURL=index.6cba5230.js.map
