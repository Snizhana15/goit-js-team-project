!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=t.parcelRequire09c9;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},t.parcelRequire09c9=i),i("73ES2"),i("UL92Z"),i("hJTci"),i("ivF4K");var r=i("8nrFW"),c=i("dXyXQ"),o={cardSet:document.querySelector(".card-set"),showWatchedBtn:document.querySelector(".header-library__button--watched"),showQueueBtn:document.querySelector(".header-library__button--queue"),paginationSet:document.querySelector(".pagination")},s=document.querySelector(".header-library--watched--spinner"),u=document.querySelector(".header-library--queue--spinner"),l=0,d=function(){return JSON.parse(localStorage.getItem("watched")||"[]")},g=function(){return JSON.parse(localStorage.getItem("queue")||"[]")},p=function(){var t=JSON.parse(localStorage.getItem("watched")||"[]"),n=JSON.parse(localStorage.getItem("queue")||"[]");return e(r)(t).concat(e(r)(n)).filter((function(e,t,n){return n.findIndex((function(t){return t.id===e.id}))===n.indexOf(e)}))},_=function(e){e.map(m)},m=function(e){var t=e.id,n=e.poster_path,a=e.original_title,i=e.title,r=e.release_date,l=e.genres,d=e.vote_average,g=new Date(r).getFullYear().toString(),p=function(e,t){return e.map((function(e){return t.find((function(t){return t.id===e})).name}))}(l.map((function(e){return e.id})),l),_=(0,c.getGenresMarkup)(p),m='<li class="card-set__item" data-id="'.concat(t,'">\n                <div class="card-set__box-img"">\n                <img src="https://image.tmdb.org/t/p/original').concat(n,'" alt="').concat(a,'"\n                class="card-set__img"\n                />\n                </div>\n                <h3 class="card-set__title">').concat(i,'</h3>\n                <div class="card-set__description">\n                <ul class="card-set__genre">\n                    ').concat(_,'\n                </ul>\n                    <span class="card-set__production-year">&nbsp| ').concat(g,'&nbsp</span>\n                    <span class="card-set__rating">').concat(d,"</span>\n                </div>\n                </li>");o.cardSet.insertAdjacentHTML("afterbegin",m),s.classList.remove("spinner"),u.classList.remove("spinner")},f=function(e){l=Math.ceil(e.length/6)};o.showWatchedBtn.addEventListener("click",(function(){s.classList.add("spinner"),o.paginationSet.removeEventListener("click",L),o.paginationSet.removeEventListener("click",S);var e=d(),t=e.slice(0,6);o.cardSet.innerHTML="",f(e),_(t),h(l),o.paginationSet.addEventListener("click",b)})),o.showQueueBtn.addEventListener("click",(function(){u.classList.add("spinner"),o.paginationSet.removeEventListener("click",L),o.paginationSet.removeEventListener("click",b);var e=g(),t=e.slice(0,6);o.cardSet.innerHTML="",f(e),_(t),h(l),o.paginationSet.addEventListener("click",S)}));var v=function(e,t){var n=6*e-6,a=t.splice(n,6);o.cardSet.innerHTML="",_(a),h(l),document.querySelector(".pagination__button--current").classList.remove("pagination__button--current"),document.querySelector('[id="'.concat(e,'"]')).classList.add("pagination__button--current")},b=function(e){var t=d();getNumberPage=Number(e.target.closest(".pagination__button").id),v(getNumberPage,t)},S=function(e){var t=g();getNumberPage=Number(e.target.closest(".pagination__button").id),v(getNumberPage,t)},L=function(e){var t=p();getNumberPage=Number(e.target.closest(".pagination__button").id),v(getNumberPage,t)},h=function(e){markupEmpty=[];for(var t=1;t<=e;t++){var n="";n=1===t?'<li class="pagination__item">\n        <button class="pagination__button pagination__button--current" id="'.concat(t,'">').concat(t,"</button>\n      </li>"):'<li class="pagination__item">\n        <button class="pagination__button" id="'.concat(t,'">').concat(t,"</button>\n      </li>"),markupEmpty.push(n)}var a=markupEmpty.join("");o.paginationSet.innerHTML="",o.paginationSet.insertAdjacentHTML("afterbegin",a)};(function(){o.paginationSet.removeEventListener("click",b),o.paginationSet.removeEventListener("click",S);var e=p(),t=e.slice(0,6);o.cardSet.innerHTML="",f(e),_(t),h(l),o.paginationSet.addEventListener("click",L)})()}();
//# sourceMappingURL=library.9153c2b3.js.map
