function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequire09c9;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequire09c9=i);var o,a=i("93eWd"),s=i("2rqRD"),c=i("epB3k"),l=(s=i("2rqRD"),/^\s+|\s+$/g),d=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,m=parseInt,v="object"==typeof t&&t&&t.Object===Object&&t,p="object"==typeof self&&self&&self.Object===Object&&self,g=v||p||Function("return this")(),_=Object.prototype.toString,y=Math.max,b=Math.min,h=function(){return g.Date.now()};function L(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function $(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==_.call(e)}(e))return NaN;if(L(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=L(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(l,"");var n=u.test(e);return n||f.test(e)?m(e.slice(2),n?2:8):d.test(e)?NaN:+e}o=function(e,t,n){var r,i,o,a,s,c,l=0,d=!1,u=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=r,o=i;return r=i=void 0,l=t,a=e.apply(o,n)}function v(e){return l=e,s=setTimeout(g,t),d?m(e):a}function p(e){var n=e-c;return void 0===c||n>=t||n<0||u&&e-l>=o}function g(){var e=h();if(p(e))return _(e);s=setTimeout(g,function(e){var n=t-(e-c);return u?b(n,o-(e-l)):n}(e))}function _(e){return s=void 0,f&&r?m(e):(r=i=void 0,a)}function w(){var e=h(),n=p(e);if(r=arguments,i=this,c=e,n){if(void 0===s)return v(c);if(u)return s=setTimeout(g,t),m(c)}return void 0===s&&(s=setTimeout(g,t)),a}return t=$(t)||0,L(n)&&(d=!!n.leading,o=(u="maxWait"in n)?y($(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),w.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=c=i=s=void 0},w.flush=function(){return void 0===s?a:_(h())},w};const w=document.querySelector(".card-set");document.querySelector(".header__form-input").addEventListener("input",e(o)((function(e){e.preventDefault(),M=e.target.value,(0,c.getSearchQuery)(),async function(){const e=await x();(0,s.changeMoviesPage)(e>50?50:e,x)}()}),1e3));let M="";async function j(e){try{const{results:t,total_pages:n,total_results:r}=await(0,c.getSearchQuery)(M,e);return 0===r?(E.classList.remove("is-hidden"),S.classList.remove("is-hidden")):(E.classList.add("is-hidden"),S.classList.add("is-hidden")),{movies:t,totalPages:n}}catch(e){alert(e)}}async function x(e){const t=await async function(){try{const{genres:e}=await(0,c.getGenreList)();return e}catch(e){alert(e)}}(),{movies:n,totalPages:r}=await j(e),i=n.map((e=>function(e,t){const{genre_ids:n,original_title:r,id:i,release_date:o,title:a,poster_path:s}=e,c=function(e){let t="";switch(e.length){case 1:t=`<li class="card-set__genre-movie">${e[0]}</li>`;break;case 2:t=`<li class="card-set__genre-movie">${e[0]},&nbsp</li>\n                      <li class="card-set__genre-movie">${e[1]}</li>`;break;case 3:t=`<li class="card-set__genre-movie">${e[0]},&nbsp</li>\n                      <li class="card-set__genre-movie">${e[1]},&nbsp</li>\n                      <li class="card-set__genre-movie">${e[2]}</li>`;break;default:t=`<li class="card-set__genre-movie">${e[0]},&nbsp</li>\n                      <li class="card-set__genre-movie">${e[1]},&nbsp</li>\n                      <li class="card-set__genre-movie">Інші</li>`}return t}(function(e,t){return e.map((e=>t.find((t=>t.id===e)).name))}(n,t)),l=new Date(o).getFullYear().toString();return`\n        <li class="card-set__item" data-id="${i}">\n            <div class="card-set__box-img">\n            <img\n                loading="lazy"\n                src="https://image.tmdb.org/t/p/original${s}"\n                alt="${r}"\n                class="card-set__img"\n                \n            />\n            </div>\n            <h3 class="card-set__title">${a}</h3>\n            <div class="card-set__description">\n            <ul class="card-set__genre">\n                ${c}\n            </ul>\n            <span class="card-set__genre-movie">&nbsp| ${l}</span>\n            </div>\n        </li>`}(e,t))).join("");return w.innerHTML="",w.insertAdjacentHTML("afterbegin",i),r}const E=document.querySelector(".header__error-text"),S=document.querySelector(".img-search-error");i("fQE3M");const q={openModalBtn:document.querySelector("[data-modal-opens]"),modal:document.querySelector("[data-modals]"),body:document.querySelector("body")};q.openModalBtn.addEventListener("click",(function(){q.modal.classList.remove("is-hiddens"),document.body.classList.add("modal-open"),q.body.addEventListener("keyup",(function e(t){"Escape"===t.code&&(q.modal.classList.add("is-hiddens"),document.body.classList.remove("modal-open"),q.body.removeEventListener("keyup",e))})),q.modal.addEventListener("click",(function e(t){t.target.closest(".modals")||(q.modal.classList.add("is-hiddens"),document.body.classList.remove("modal-open"),q.modal.removeEventListener("click",e))}))})),i("31u3U"),i("fHPRY"),async function(){const e=await(0,a.renderPopularMovies)();(0,s.changeMoviesPage)(e>50?50:e,a.renderPopularMovies)}();
//# sourceMappingURL=index.18d7bad4.js.map
