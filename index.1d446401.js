!function(){function n(n){return n&&n.__esModule?n.default:n}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},i=e.parcelRequire09c9;null==i&&((i=function(n){if(n in t)return t[n].exports;if(n in r){var e=r[n];delete r[n];var i={id:n,exports:{}};return t[n]=i,e.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(n,e){r[n]=e},e.parcelRequire09c9=i),i("iE7OH").register(JSON.parse('{"EVgbq":"index.1d446401.js","l1OFH":"symbol.e0e566b2.svg","eUNyv":"no-poster.faaddcd9.png","7nwxg":"library.d7146f8b.js"}'));var a,s=i("bpxeT"),o=i("2TvXO"),c=i("dXyXQ");a=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("l1OFH");var u='<li class="movies-navigation__item">\n    <button\n      type="button"\n      class="movies-navigation__arrow-btn"\n      data-move="backward"\n    >\n      <svg class="movies-navigation__icon-arrow">\n        <use href="'.concat(a,'#icon-arrow-left"></use>\n      </svg>\n    </button>\n  </li>\n  <li class="movies-navigation__item">\n    <ul class="number-page">\n      <li class="number-page__item">\n        <button type="button" class="number-page__btn">1</button>\n      </li>\n      <li class="number-page__item">\n        <button type="button" class="number-page__btn">13</button>\n      </li>\n      <li class="number-page__item">\n        <button type="button" class="number-page__btn">14</button>\n      </li>\n      <li class="number-page__item">\n        <button type="button" class="number-page__btn">15</button>\n      </li>\n      <li class="number-page__item">\n        <button type="button" class="number-page__btn">16</button>\n      </li>\n      <li class="number-page__item">\n        <button type="button" class="number-page__btn">17</button>\n      </li>\n      <li class="number-page__item">\n        <button type="button" class="number-page__btn">20</button>\n      </li>\n    </ul>\n  </li>\n  <li class="movies-navigation__item">\n    <button\n      type="button"\n      class="movies-navigation__arrow-btn"\n      data-move="forward"\n    >\n      <svg class="movies-navigation__icon-arrow">\n        <use href="').concat(a,'#icon-arrow-right"></use>\n      </svg>\n    </button>\n  </li>'),l=document.querySelector(".movies-navigation");function d(n,e){var t=1;l.innerHTML="",l.insertAdjacentHTML("afterbegin",u);var r=document.querySelector('[data-move="backward"]'),i=document.querySelector('[data-move="forward"]'),a=document.querySelector(".number-page"),s=document.querySelector(".card-set");function o(n){n.removeAttribute("disabled"),n.classList.remove("movies-navigation__arrow-btn--disabled")}function c(n){n.setAttribute("disabled",""),n.classList.add("movies-navigation__arrow-btn--disabled")}function d(){if(n<6)return i.style.display="none",r.style.display="none",function(){var e="";a.innerHTML="";for(var t=0;t<n+2;t+=1)e+='<li class="number-page__item">\n                <button type="button" class="number-page__btn">'.concat(t,"</button>\n              </li>");a.insertAdjacentHTML("afterbegin",e)}(),v(),m(),void a.children[1].firstElementChild.classList.add("number-page__btn--current");v(),g(),a.children[1].firstElementChild.classList.add("number-page__btn--current"),a.lastElementChild.firstElementChild.textContent=String(n),c(r),o(i),y(),x()}function f(){document.querySelector(".number-page__btn--current").classList.remove("number-page__btn--current")}function p(){f(),a.children[t].firstElementChild.classList.add("number-page__btn--current")}function b(){f(),a.children[t-n+5].firstElementChild.classList.add("number-page__btn--current")}function m(){a.lastElementChild.style.display="none",a.children[a.children.length-2].style.marginRight="0px"}function v(){a.firstElementChild.style.display="none"}function _(){a.firstElementChild.style.display="list-item"}function g(){a.lastElementChild.style.display="list-item",a.children[a.children.length-2].style.marginRight="16px"}function h(){for(var n=1;n<a.children.length-1;n+=1){var e=t-3+n;a.children[n].firstElementChild.textContent=e.toString()}}function y(){for(var n=1;n<a.children.length-1;n+=1){var e=n;a.children[n].firstElementChild.textContent=e.toString()}}function w(){for(var e=1;e<a.children.length-1;e+=1){var t=n-5+e;a.children[e].firstElementChild.textContent=t.toString()}}function x(){window.innerWidth<768&&(v(),m())}d(),r.addEventListener("click",(function(){e(t-=1),s.scrollIntoView(),o(i),1===t&&c(r);if(t>n-3)return void b();t<4&&(v(),p());t>=3&&t<=n-3&&(g(),h());x()})),i.addEventListener("click",(function(){e(t+=1),s.scrollIntoView(),o(r),t===n&&c(i);if(t<4)return void p();t>n-3&&(m(),b());t>=4&&t<=n-2&&(_(),h());x()})),a.addEventListener("click",(function(u){if("BUTTON"!==u.target.nodeName)return;if(u.target.classList.contains("number-page__btn--current"))return;if(t=Number(u.target.textContent),e(t),s.scrollIntoView(),1===t)return f(),void d();if(t===n)return f(),void function(){m(),n>5&&_();if(a.children[n>=5?5:n].firstElementChild.classList.add("number-page__btn--current"),o(r),c(i),n<=5)return void y();w()}();t>=4&&t<=n-3&&(f(),a.children[3].firstElementChild.classList.add("number-page__btn--current"),_(),g(),o(i),o(r),h());if(t<4)return p(),v(),n>5&&g(),o(i),void y();t>n-3&&(b(),m(),n>5&&_(),o(i),o(r),w());x()}))}s=i("bpxeT"),o=i("2TvXO");var f,p=i("fkvfI");c=i("dXyXQ");f=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("eUNyv");var b,m={};Object.defineProperty(m,"__esModule",{value:!0}),m.default=function(n){return n&&n.constructor===Symbol?"symbol":typeof n};var v=/^\s+|\s+$/g,_=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,h=/^0o[0-7]+$/i,y=parseInt,w="object"==typeof e&&e&&e.Object===Object&&e,x="object"==typeof self&&self&&self.Object===Object&&self,E=w||x||Function("return this")(),L=Object.prototype.toString,S=Math.max,C=Math.min,T=function(){return E.Date.now()};function O(e){var t=void 0===e?"undefined":n(m)(e);return!!e&&("object"==t||"function"==t)}function H(e){if("number"==typeof e)return e;if(function(e){return"symbol"==(void 0===e?"undefined":n(m)(e))||function(n){return!!n&&"object"==typeof n}(e)&&"[object Symbol]"==L.call(e)}(e))return NaN;if(O(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=O(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(v,"");var r=g.test(e);return r||h.test(e)?y(e.slice(2),r?2:8):_.test(e)?NaN:+e}b=function(n,e,t){var r,i,a,s,o,c,u=0,l=!1,d=!1,f=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function p(e){var t=r,a=i;return r=i=void 0,u=e,s=n.apply(a,t)}function b(n){return u=n,o=setTimeout(v,e),l?p(n):s}function m(n){var t=n-c;return void 0===c||t>=e||t<0||d&&n-u>=a}function v(){var n=T();if(m(n))return _(n);o=setTimeout(v,function(n){var t=e-(n-c);return d?C(t,a-(n-u)):t}(n))}function _(n){return o=void 0,f&&r?p(n):(r=i=void 0,s)}function g(){var n=T(),t=m(n);if(r=arguments,i=this,c=n,t){if(void 0===o)return b(c);if(d)return o=setTimeout(v,e),p(c)}return void 0===o&&(o=setTimeout(v,e)),s}return e=H(e)||0,O(t)&&(l=!!t.leading,a=(d="maxWait"in t)?S(H(t.maxWait)||0,e):a,f="trailing"in t?!!t.trailing:f),g.cancel=function(){void 0!==o&&clearTimeout(o),u=0,r=c=i=o=void 0},g.flush=function(){return void 0===o?s:_(T())},g};var j=document.querySelector(".card-set"),k=document.querySelector(".header__form-input"),M=document.getElementById("spinner");k.addEventListener("input",n(b)((function(n){n.preventDefault(),""===(q=n.target.value.trim())?X():function(){V.apply(this,arguments)}()}),1e3));var q="";function N(){return F.apply(this,arguments)}function F(){return(F=n(s)(n(o).mark((function e(){var t;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,p.getGenreList)();case 3:return t=n.sent.genres,n.abrupt("return",t);case 7:n.prev=7,n.t0=n.catch(0),alert(n.t0);case 10:case"end":return n.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function R(n){return A.apply(this,arguments)}function A(){return(A=n(s)(n(o).mark((function e(t){var r,i,a;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,p.getSearchQuery)(q,t);case 3:return r=n.sent,i=r.results,a=r.total_pages,0===r.total_results?(J(),X()):$(),n.abrupt("return",{movies:i,totalPages:a});case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function U(n){return P.apply(this,arguments)}function P(){return(P=n(s)(n(o).mark((function e(t){var r,i,a,s,c;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return M.classList.add("spinner"),n.next=3,N();case 3:return r=n.sent,n.next=6,R(t);case 6:return i=n.sent,a=i.movies,s=i.totalPages,c=a.map((function(n){return I(n,r)})).join(""),j.innerHTML="",j.insertAdjacentHTML("afterbegin",c),M.classList.remove("spinner"),n.abrupt("return",s);case 14:case"end":return n.stop()}}),e)})))).apply(this,arguments)}function I(n,e){var t=n.genre_ids,r=n.original_title,i=n.id,a=n.release_date,s=n.title,o=n.poster_path,c=function(n,e){return n.map((function(n){return e.find((function(e){return e.id===n})).name}))}(t,e),u=function(n){var e="";switch(n.length){case 1:e='<li class="card-set__genre-movie">'.concat(n[0],"</li>");break;case 2:e='<li class="card-set__genre-movie">'.concat(n[0],',&nbsp</li>\n                      <li class="card-set__genre-movie">').concat(n[1],"</li>");break;case 3:e='<li class="card-set__genre-movie">'.concat(n[0],',&nbsp</li>\n                      <li class="card-set__genre-movie">').concat(n[1],',&nbsp</li>\n                      <li class="card-set__genre-movie">').concat(n[2],"</li>");break;default:e='<li class="card-set__genre-movie">'.concat(n[0],',&nbsp</li>\n                      <li class="card-set__genre-movie">').concat(n[1],',&nbsp</li>\n                      <li class="card-set__genre-movie">Other</li>')}return e}(c),l=a?new Date(a).getFullYear().toString():"Unknown",d=o?"https://image.tmdb.org/t/p/original".concat(o):"".concat(f);return'\n        <li class="card-set__item" data-id="'.concat(i,'">\n            <div class="card-set__box-img">\n            <img\n                loading="lazy"\n                src="').concat(d,'"\n                alt="').concat(r,'"\n                class="card-set__img"  \n            />\n            </div>\n            <h3 class="card-set__title">').concat(s,'</h3>\n            <div class="card-set__description">\n            <ul class="card-set__genre">\n                ').concat(u,'\n            </ul>\n            <span class="card-set__genre-movie">&nbsp| ').concat(l,"</span>\n            </div>\n        </li>")}function V(){return(V=n(s)(n(o).mark((function e(){return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U();case 2:d(n.sent,U);case 4:case"end":return n.stop()}}),e)})))).apply(this,arguments)}function X(){return D.apply(this,arguments)}function D(){return(D=n(s)(n(o).mark((function e(){return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.renderPopularMovies)();case 2:d(n.sent,c.renderPopularMovies);case 4:case"end":return n.stop()}}),e)})))).apply(this,arguments)}var B=document.querySelector(".header__error-text");function J(){B.classList.remove("is-hidden"),setTimeout((function(){B.classList.add("is-hidden")}),3e3)}function $(){B.classList.add("is-hidden")}function Q(){return(Q=n(s)(n(o).mark((function e(){return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.renderPopularMovies)();case 2:d(n.sent,c.renderPopularMovies);case 4:case"end":return n.stop()}}),e)})))).apply(this,arguments)}i("73ES2"),i("ivF4K"),i("UL92Z"),i("hJTci"),function(){Q.apply(this,arguments)}()}();
//# sourceMappingURL=index.1d446401.js.map
