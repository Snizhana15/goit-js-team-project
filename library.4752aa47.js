const e={openModalFilm:document.querySelector(".card-set"),closeModalFilm:document.querySelector(".film-card__button-close"),body:document.querySelector("body"),backdropModalFilm:document.querySelector(".backdrop"),modalFilm:document.querySelector(".film-card__box")},t=document.querySelector(".spinner--modal");console.log(t);const s=t=>{const{poster_path:s,title:n,id:i,vote_average:o,vote_count:d,popularity:a,original_title:l,genres:c,overview:r}=t,p=`<div class="film-card__image-block">\n      <img\n        class="film-card__image"\n        src="https://image.tmdb.org/t/p/original${s}"\n        alt="film"\n      />\n    </div>\n    <div class="film-card__description">\n      <h1 class="film-card__description-title">${n}</h1>\n      <ul class="film-card__description-set">\n        <li class="description-set">\n          <p class="description-set__text">Vote / Votes</p>\n          <p class="description-set__value">\n            <span class="description-set__rating">${o}</span>\n            <span class="description-set__separator">/</span>\n            <span class="description-set__vote">${d}</span>\n          </p>\n        </li>\n        <li class="description-set">\n          <p class="description-set__text">Popularity</p>\n          <p class="description-set__value">${a}</p>\n        </li>\n        <li class="description-set">\n          <p class="description-set__text">Original Title</p>\n          <p class="description-set__value">${l}</p>\n        </li>\n        <li class="description-set">\n          <p class="description-set__text">Genre</p>\n          <p class="description-set__value">${c.map((e=>e.name)).join(", ")}</p>\n        </li>\n      </ul>\n      <div class="film-card__description-about">\n        <h2 class="description-about__title">About</h2>\n        <p class="description-about__text">${r}</p>\n      </div>\n      <div class="film-card__description-button">\n        <button class="description-button description-button__watched" data-id="${i}">\n          add to Watched\n        </button>\n        <button class="description-button description-button__queue" data-id="${i}">\n          add to queue\n        </button>\n      </div>\n    </div>\n  </div>`;e.modalFilm.insertAdjacentHTML("beforeend",p)};e.openModalFilm.addEventListener("click",(async n=>{if(t.classList.add("spinner"),!n.target.closest(".card-set__item"))return;e.modalFilm.innerHTML="",e.backdropModalFilm.classList.remove("visually-hidden"),e.body.style.overflow="hidden";const i=n.target.closest(".card-set__item").dataset.id,o=await(d=i,fetch(`https://api.themoviedb.org/3/movie/${d}?api_key=fadee9dfff8cb6b1bff36771479589d6&language=uk`).then((e=>e.json())).then((e=>{var t;if(null!==(t=e.success)&&void 0!==t&&!t)throw new Error(e.status_message);return e})));var d;s(o),t.classList.remove("spinner")})),e.closeModalFilm.addEventListener("click",(()=>{e.backdropModalFilm.classList.add("visually-hidden"),e.body.style.overflow="visible"}));const n={openModalBtn:document.querySelector("[data-modal-opens]"),modal:document.querySelector("[data-modals]"),body:document.querySelector("body")};n.openModalBtn.addEventListener("click",(function(){n.modal.classList.remove("is-hiddens"),n.body.addEventListener("keyup",(function e(t){"Escape"===t.code&&(n.modal.classList.add("is-hiddens"),n.body.removeEventListener("keyup",e))})),n.modal.addEventListener("click",(function e(t){t.target.closest(".modals")||(n.modal.classList.add("is-hiddens"),n.modal.removeEventListener("click",e))}))})),console.log({});
//# sourceMappingURL=library.4752aa47.js.map
