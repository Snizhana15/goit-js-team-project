var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=e.parcelRequire09c9;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){a[e]=t},e.parcelRequire09c9=n),n("fQE3M"),n("31u3U"),n("fHPRY");var r=n("epB3k"),s=n("2rqRD"),i=n("93eWd");const c={cardSet:document.querySelector(".card-set"),showWatchedBtn:document.querySelector(".header-library__button--watched"),showQueueBtn:document.querySelector(".header-library__button--queue")};let o=0;const d=async e=>{await e.map((e=>(0,r.getMovieById)(e).then((e=>l(e)))))},l=e=>{const{id:t,poster_path:a,original_title:n,title:r,release_date:s,genres:o,vote_average:d}=e,l=new Date(s).getFullYear().toString(),g=((e,t)=>e.map((e=>t.find((t=>t.id===e)).name)))(o.map((e=>e.id)),o),u=`<li class="card-set__item" data-id="${t}">\n                <div class="card-set__box-img"">\n                <img src="https://image.tmdb.org/t/p/original${a}" alt="${n}"\n                class="card-set__img"\n                />\n                </div>\n                <h3 class="card-set__title">${r}</h3>\n                <div class="card-set__description">\n                <ul class="card-set__genre">\n                      ${(0,i.getGenresMarkup)(g)}\n                </ul>\n                    <span class="card-set__production-year">| ${l}</span>\n                    <span class="card-set__rating">${d}</span>\n                </div>\n                </li>`;c.cardSet.insertAdjacentHTML("afterbegin",u)},g=e=>{o=Math.ceil(e.length/10)};c.showWatchedBtn.addEventListener("click",(()=>{const e=JSON.parse(localStorage.getItem("watched")||"[]");c.cardSet.innerHTML="",d(e),g(e),(0,s.changeMoviesPage)(o,l)})),c.showQueueBtn.addEventListener("click",(()=>{const e=JSON.parse(localStorage.getItem("queue")||"[]");c.cardSet.innerHTML="",d(e),g(e),(0,s.changeMoviesPage)(o,l)})),(()=>{const e=[...JSON.parse(localStorage.getItem("watched")||"[]"),...JSON.parse(localStorage.getItem("queue")||"[]")].filter(((e,t,a)=>a.indexOf(e)===t));c.cardSet.innerHTML="",d(e),g(e),(0,s.changeMoviesPage)(o,l)})();
//# sourceMappingURL=library.fc2b301c.js.map
