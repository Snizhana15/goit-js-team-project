{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAUC,SAASC,cAAc,aAsBvCC,eAAeC,EAAoBC,GACjC,MAAMC,QArBRH,iBACE,IACE,MAAMG,OAAEA,SAAiB,EAAAR,EAAAS,gBACzB,OAAOD,EACP,MAAOE,GACPC,MAAMD,IAgBaE,IACfC,OAAEA,EAAMC,WAAEA,SAblBT,eAAyCE,GACvC,IACE,MAAQQ,QAASF,EAAQG,YAAaF,SAAqB,EAAAd,EAAAiB,kBACzDV,GAEF,MAAO,C,OAAEM,E,WAAQC,GACjB,MAAOJ,GACPC,MAAMD,IAM6BQ,CAA0BX,GAEzDY,EAAcN,EACjBO,KAAIC,GAyCT,SAAyBA,EAAOb,GAC9B,MAAMc,UAAEA,EAASC,eAAEA,EAAcC,GAAEA,EAAEC,aAAEA,EAAYC,MAAEA,EAAKC,YAAEA,GAC1DN,EAGIO,EAjCR,SAAyBpB,GACvB,IAAIoB,EAAe,GAEnB,OAAQpB,EAAOqB,QACb,KAAK,EACHD,EAAe,qCAAqCpB,EAAO,UAC3D,MAEF,KAAK,EACHoB,EAAe,qCAAqCpB,EAAO,0EACPA,EAAO,UAC3D,MAEF,KAAK,EACHoB,EAAe,qCAAqCpB,EAAO,0EACPA,EAAO,0EACPA,EAAO,UAC3D,MAEF,QACEoB,EAAe,qCAAqCpB,EAAO,0EACPA,EAAO,mFAI/D,OAAOoB,EAQcE,CArCvB,SAAuBC,EAAQvB,GAC7B,OAAOuB,EAAOX,KAAII,GAAMhB,EAAOwB,MAAKC,GAASA,EAAMT,KAAOA,IAAIU,OAmCvCC,CAAcb,EAAWd,IAE1C4B,EAAiB,IAAIC,KAAKZ,GAAca,cAAcC,WAE5D,MAAO,iDACqCf,+JAIYG,4BACnCJ,4IAKmBG,sHAGxBE,gFAEuCQ,8CAjEvCI,CAAgBnB,EAAOb,KACpCiC,KAAK,IAKR,OAHAvC,EAAQwC,UAAY,GACpBxC,EAAQyC,mBAAmB,aAAcxB,GAElCL,E,4BClCL,MAAM8B,EAAO,CACXC,aAAc1C,SAASC,cAAc,sBACrC0C,MAAO3C,SAASC,cAAc,iBAC9B2C,KAAM5C,SAASC,cAAc,SAqB/BwC,EAAKC,aAAaG,iBAAiB,SAnBnC,WACEJ,EAAKE,MAAMG,UAAUC,OAAO,cAC5B/C,SAAS4C,KAAKE,UAAUE,IAAI,cAc5BP,EAAKG,KAAKC,iBAAiB,SAb3B,SAASI,EAAWC,GACC,WAAfA,EAAMC,OACRV,EAAKE,MAAMG,UAAUE,IAAI,cACzBhD,SAAS4C,KAAKE,UAAUC,OAAO,cAC/BN,EAAKG,KAAKQ,oBAAoB,QAASH,OAU3CR,EAAKE,MAAME,iBAAiB,SAP5B,SAASQ,EAAeH,GAClBA,EAAMI,OAAOC,QAAQ,aACzBd,EAAKE,MAAMG,UAAUE,IAAI,cACvBhD,SAAS4C,KAAKE,UAAUC,OAAO,cACjCN,EAAKE,MAAMS,oBAAoB,QAASC,U,sBCjBhDnD,iBACE,MAAMS,QAAmBR,KACzB,EAAAqD,EAAAC,kBAAiB9C,EAAa,GAAK,GAAKA,EAAYR,GAGtDuD","sources":["src/js/render-popular-movies.js","src/js/modal-students.js","src/index.js"],"sourcesContent":["import { getPopularMovies, getGenreList } from './Api';\n\nconst cardSet = document.querySelector('.card-set');\n\nasync function getGenres() {\n  try {\n    const { genres } = await getGenreList();\n    return genres;\n  } catch (error) {\n    alert(error);\n  }\n}\n\nasync function getDataAboutPopularMovies(pageNumber) {\n  try {\n    const { results: movies, total_pages: totalPages } = await getPopularMovies(\n      pageNumber\n    );\n    return { movies, totalPages };\n  } catch (error) {\n    alert(error);\n  }\n}\n\nasync function renderPopularMovies(pageNumber) {\n  const genres = await getGenres();\n  const { movies, totalPages } = await getDataAboutPopularMovies(pageNumber);\n\n  const cardsMarkup = movies\n    .map(movie => renderMovieCard(movie, genres))\n    .join('');\n\n  cardSet.innerHTML = '';\n  cardSet.insertAdjacentHTML('afterbegin', cardsMarkup);\n\n  return totalPages;\n}\n\nfunction getGenresById(idList, genres) {\n  return idList.map(id => genres.find(genre => genre.id === id).name);\n}\n\nfunction getGenresMarkup(genres) {\n  let genresMarkup = '';\n\n  switch (genres.length) {\n    case 1:\n      genresMarkup = `<li class=\"card-set__genre-movie\">${genres[0]}</li>`;\n      break;\n\n    case 2:\n      genresMarkup = `<li class=\"card-set__genre-movie\">${genres[0]},&nbsp</li>\n                      <li class=\"card-set__genre-movie\">${genres[1]}</li>`;\n      break;\n\n    case 3:\n      genresMarkup = `<li class=\"card-set__genre-movie\">${genres[0]},&nbsp</li>\n                      <li class=\"card-set__genre-movie\">${genres[1]},&nbsp</li>\n                      <li class=\"card-set__genre-movie\">${genres[2]}</li>`;\n      break;\n\n    default:\n      genresMarkup = `<li class=\"card-set__genre-movie\">${genres[0]},&nbsp</li>\n                      <li class=\"card-set__genre-movie\">${genres[1]},&nbsp</li>\n                      <li class=\"card-set__genre-movie\">Інші</li>`;\n  }\n\n  return genresMarkup;\n}\n\nfunction renderMovieCard(movie, genres) {\n  const { genre_ids, original_title, id, release_date, title, poster_path } =\n    movie;\n\n  const alphabetGenres = getGenresById(genre_ids, genres);\n  const genresMarkup = getGenresMarkup(alphabetGenres);\n  const productionYear = new Date(release_date).getFullYear().toString();\n\n  return `\n        <li class=\"card-set__item\" data-id=\"${id}\">\n            <div class=\"card-set__box-img\">\n            <img\n                loading=\"lazy\"\n                src=\"https://image.tmdb.org/t/p/original${poster_path}\"\n                alt=\"${original_title}\"\n                class=\"card-set__img\"\n                \n            />\n            </div>\n            <h3 class=\"card-set__title\">${title}</h3>\n            <div class=\"card-set__description\">\n            <ul class=\"card-set__genre\">\n                ${genresMarkup}\n            </ul>\n            <span class=\"card-set__genre-movie\">&nbsp| ${productionYear}</span>\n            </div>\n        </li>`;\n}\n\nexport { renderPopularMovies };\n","\n    const refs = {\n      openModalBtn: document.querySelector('[data-modal-opens]'),\n      modal: document.querySelector('[data-modals]'),\n      body: document.querySelector('body'),\n    };\n    function toggleModal() {\n      refs.modal.classList.remove('is-hiddens');\n      document.body.classList.add(\"modal-open\");\n      function onKeyPress(event) {\n        if (event.code === 'Escape') {\n          refs.modal.classList.add('is-hiddens');\n          document.body.classList.remove(\"modal-open\");\n          refs.body.removeEventListener('keyup', onKeyPress);\n        }\n      }\n      function onGalleryClick(event) {\n        if (event.target.closest('.modals')) return;\n        refs.modal.classList.add('is-hiddens');\n          document.body.classList.remove(\"modal-open\");\n        refs.modal.removeEventListener('click', onGalleryClick);\n      }\n      refs.body.addEventListener('keyup', onKeyPress);\n      refs.modal.addEventListener('click', onGalleryClick);\n    }\n    refs.openModalBtn.addEventListener('click', toggleModal);","import { renderPopularMovies } from './js/render-popular-movies';\nimport { changeMoviesPage } from './js/change-movies-page';\n\nasync function downloadMainHomePage() {\n  const totalPages = await renderPopularMovies();\n  changeMoviesPage(totalPages > 50 ? 50 : totalPages, renderPopularMovies);\n}\n\ndownloadMainHomePage();\n\n/*\nІмпорт всього файлу modal-film.js\n*/\n\nimport * as things from './js/modal-film';\nimport * as elem from './js/modal-students';\nimport * as elements from './js/localStorage';\nimport * as things from './js/change-button-condition';\n"],"names":["$epB3k","parcelRequire","$696ffb40b89ad88b$var$cardSet","document","querySelector","async","$696ffb40b89ad88b$export$12335c527465096d","pageNumber","genres","getGenreList","error","alert","$696ffb40b89ad88b$var$getGenres","movies","totalPages","results","total_pages","getPopularMovies","$696ffb40b89ad88b$var$getDataAboutPopularMovies","cardsMarkup","map","movie","genre_ids","original_title","id","release_date","title","poster_path","genresMarkup","length","$696ffb40b89ad88b$var$getGenresMarkup","idList","find","genre","name","$696ffb40b89ad88b$var$getGenresById","productionYear","Date","getFullYear","toString","$696ffb40b89ad88b$var$renderMovieCard","join","innerHTML","insertAdjacentHTML","$8e415dd749dd7be8$var$refs","openModalBtn","modal","body","addEventListener","classList","remove","add","onKeyPress","event","code","removeEventListener","onGalleryClick","target","closest","$2rqRD","changeMoviesPage","$1f0dc3b9307be026$var$downloadMainHomePage"],"version":3,"file":"index.0716367a.js.map"}