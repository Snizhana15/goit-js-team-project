!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequire09c9;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequire09c9=i);var a,c=i("bpxeT"),s=i("2TvXO"),o=i("dXyXQ"),u=i("dpMWy"),l=(c=i("bpxeT"),s=i("2TvXO"),i("fkvfI")),f=(u=i("dpMWy"),{});Object.defineProperty(f,"__esModule",{value:!0}),f.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e};var d=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,m=/^0o[0-7]+$/i,g=parseInt,_="object"==typeof t&&t&&t.Object===Object&&t,h="object"==typeof self&&self&&self.Object===Object&&self,y=_||h||Function("return this")(),b=Object.prototype.toString,x=Math.max,w=Math.min,T=function(){return y.Date.now()};function O(t){var n=void 0===t?"undefined":e(f)(t);return!!t&&("object"==n||"function"==n)}function j(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":e(f)(t))||function(e){return!!e&&"object"==typeof e}(t)&&"[object Symbol]"==b.call(t)}(t))return NaN;if(O(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=O(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(d,"");var r=v.test(t);return r||m.test(t)?g(t.slice(2),r?2:8):p.test(t)?NaN:+t}a=function(e,t,n){var r,i,a,c,s,o,u=0,l=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,a=i;return r=i=void 0,u=t,c=e.apply(a,n)}function v(e){return u=e,s=setTimeout(g,t),l?p(e):c}function m(e){var n=e-o;return void 0===o||n>=t||n<0||f&&e-u>=a}function g(){var e=T();if(m(e))return _(e);s=setTimeout(g,function(e){var n=t-(e-o);return f?w(n,a-(e-u)):n}(e))}function _(e){return s=void 0,d&&r?p(e):(r=i=void 0,c)}function h(){var e=T(),n=m(e);if(r=arguments,i=this,o=e,n){if(void 0===s)return v(o);if(f)return s=setTimeout(g,t),p(o)}return void 0===s&&(s=setTimeout(g,t)),c}return t=j(t)||0,O(n)&&(l=!!n.leading,a=(f="maxWait"in n)?x(j(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),h.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=o=i=s=void 0},h.flush=function(){return void 0===s?c:_(T())},h};var M=document.querySelector(".card-set"),L=document.querySelector(".header__form-input"),S=document.getElementById("spinner");L.addEventListener("input",e(a)((function(e){e.preventDefault(),k=e.target.value,function(){X.apply(this,arguments)}()}),1e3));var k="";function E(){return P.apply(this,arguments)}function P(){return(P=e(c)(e(s).mark((function t(){var n;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.getGenreList)();case 3:return n=e.sent.genres,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function q(e){return N.apply(this,arguments)}function N(){return(N=e(c)(e(s).mark((function t(n){var r,i,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.getSearchQuery)(k,n);case 3:return r=e.sent,i=r.results,a=r.total_pages,0===r.total_results?U():H(),e.abrupt("return",{movies:i,totalPages:a});case 11:e.prev=11,e.t0=e.catch(0),alert(e.t0);case 14:case"end":return e.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}function D(e){return F.apply(this,arguments)}function F(){return(F=e(c)(e(s).mark((function t(n){var r,i,a,c,o;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.classList.add("spinner"),e.next=3,E();case 3:return r=e.sent,e.next=6,q(n);case 6:return i=e.sent,a=i.movies,c=i.totalPages,o=a.map((function(e){return W(e,r)})).join(""),M.innerHTML="",M.insertAdjacentHTML("afterbegin",o),S.classList.remove("spinner"),e.abrupt("return",c);case 14:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function W(e,t){var n=e.genre_ids,r=e.original_title,i=e.id,a=e.release_date,c=e.title,s=e.poster_path,o=function(e,t){return e.map((function(e){return t.find((function(t){return t.id===e})).name}))}(n,t),u=function(e){var t="";switch(e.length){case 1:t='<li class="card-set__genre-movie">'.concat(e[0],"</li>");break;case 2:t='<li class="card-set__genre-movie">'.concat(e[0],',&nbsp</li>\n                      <li class="card-set__genre-movie">').concat(e[1],"</li>");break;case 3:t='<li class="card-set__genre-movie">'.concat(e[0],',&nbsp</li>\n                      <li class="card-set__genre-movie">').concat(e[1],',&nbsp</li>\n                      <li class="card-set__genre-movie">').concat(e[2],"</li>");break;default:t='<li class="card-set__genre-movie">'.concat(e[0],',&nbsp</li>\n                      <li class="card-set__genre-movie">').concat(e[1],',&nbsp</li>\n                      <li class="card-set__genre-movie">Other</li>')}return t}(o),l=new Date(a).getFullYear().toString();return'\n        <li class="card-set__item" data-id="'.concat(i,'">\n            <div class="card-set__box-img">\n            <img\n                loading="lazy"\n                src="https://image.tmdb.org/t/p/original').concat(s,'"\n                alt="').concat(r,'"\n                class="card-set__img"\n                \n            />\n            </div>\n            <h3 class="card-set__title">').concat(c,'</h3>\n            <div class="card-set__description">\n            <ul class="card-set__genre">\n                ').concat(u,'\n            </ul>\n            <span class="card-set__genre-movie">&nbsp| ').concat(l,"</span>\n            </div>\n        </li>")}function X(){return(X=e(c)(e(s).mark((function t(){var n;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:n=e.sent,(0,u.changeMoviesPage)(n>50?50:n,D);case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var $=document.querySelector(".header__error-text"),I=document.querySelector(".img-search-error");function U(){$.classList.remove("is-hidden"),I.classList.remove("is-hidden")}function H(){$.classList.add("is-hidden"),I.classList.add("is-hidden")}function Q(){return(Q=e(c)(e(s).mark((function t(){var n;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.renderPopularMovies)();case 2:n=e.sent,(0,u.changeMoviesPage)(n>50?50:n,o.renderPopularMovies);case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}i("73ES2"),i("ivF4K"),i("UL92Z"),i("hJTci"),function(){Q.apply(this,arguments)}()}();
//# sourceMappingURL=index.16297ed6.js.map
