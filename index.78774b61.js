function e(e=1){return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=fadee9dfff8cb6b1bff36771479589d6&page=${e}`).then((e=>e.json())).then((e=>{var t;if(null!==(t=e.success)&&void 0!==t&&!t)throw new Error(e.status_message);return e}))}const t=document.querySelector(".card-set");async function n(){try{const{genres:e}=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=fadee9dfff8cb6b1bff36771479589d6&language=uk").then((e=>e.json())).then((e=>{var t;if(null!==(t=e.success)&&void 0!==t&&!t)throw new Error(e.status_message);return e}));return e}catch(e){alert(e)}}async function s(t){try{const{results:n}=await e(t);return n}catch(e){alert(e)}}const i={openModalFilm:document.querySelector(".card-set"),closeModalFilm:document.querySelector(".film-card__button-close"),body:document.querySelector("body"),backdropModalFilm:document.querySelector(".backdrop"),modalFilm:document.querySelector(".film-card__box")},a=e=>{const{poster_path:t,title:n,vote_average:s,vote_count:a,popularity:c,original_title:l,genres:r,overview:o}=e,d=`<div class="film-card__image-block">\n      <img\n        class="film-card__image"\n        src="https://image.tmdb.org/t/p/original${t}"\n        alt="film"\n      />\n    </div>\n    <div class="film-card__description">\n      <h1 class="film-card__description-title">${n}</h1>\n      <ul class="film-card__description-set">\n        <li class="description-set">\n          <p class="description-set__text">Vote / Votes</p>\n          <p class="description-set__value">\n            <span class="description-set__rating">${s}</span>\n            <span class="description-set__separator">/</span>\n            <span class="description-set__vote">${a}</span>\n          </p>\n        </li>\n        <li class="description-set">\n          <p class="description-set__text">Popularity</p>\n          <p class="description-set__value">${c}</p>\n        </li>\n        <li class="description-set">\n          <p class="description-set__text">Original Title</p>\n          <p class="description-set__value">${l}</p>\n        </li>\n        <li class="description-set">\n          <p class="description-set__text">Genre</p>\n          <p class="description-set__value">${r.map((e=>e.name)).join(", ")}</p>\n        </li>\n      </ul>\n      <div class="film-card__description-about">\n        <h2 class="description-about__title">About</h2>\n        <p class="description-about__text">${o}</p>\n      </div>\n      <div class="film-card__description-button">\n        <button class="description-button description-button__watched">\n          add to Watched\n        </button>\n        <button class="description-button description-button__queue">\n          add to queue\n        </button>\n      </div>\n    </div>\n  </div>`;i.modalFilm.insertAdjacentHTML("beforeend",d)};i.openModalFilm.addEventListener("click",(async e=>{if("LI"!==e.path[2].nodeName)return;i.modalFilm.innerHTML="",i.backdropModalFilm.classList.remove("visually-hidden"),i.body.style.overflow="hidden";const t=e.path[2].dataset.id,n=await(s=t,fetch(`https://api.themoviedb.org/3/movie/${s}?api_key=fadee9dfff8cb6b1bff36771479589d6&language=uk`).then((e=>e.json())).then((e=>{var t;if(null!==(t=e.success)&&void 0!==t&&!t)throw new Error(e.status_message);return e})));var s;a(n)})),i.closeModalFilm.addEventListener("click",(()=>{i.backdropModalFilm.classList.add("visually-hidden"),i.body.style.overflow="visible"})),async function(e){const i=await n(),a=(await s(e)).map((e=>function(e,t){const{genre_ids:n,original_title:s,id:i,release_date:a,title:c,poster_path:l}=e,r=function(e){let t="";switch(e.length){case 1:t=`<li class="card-set__genre-movie">${e[0]}</li>`;break;case 2:t=`<li class="card-set__genre-movie">${e[0]},&nbsp</li>\n                      <li class="card-set__genre-movie">${e[1]}</li>`;break;default:t=`<li class="card-set__genre-movie">${e[0]},&nbsp</li>\n                      <li class="card-set__genre-movie">${e[1]},&nbsp</li>\n                      <li class="card-set__genre-movie">Інші</li>`}return t}(function(e,t){return e.map((e=>t.find((t=>t.id===e)).name))}(n,t)),o=new Date(a).getFullYear().toString();return`\n        <li class="card-set__item" data-id="${i}">\n            <div class="card-set__box-img">\n            <img\n                loading="lazy"\n                src="https://image.tmdb.org/t/p/original${l}"\n                alt="${s}"\n                class="card-set__img"\n                \n            />\n            </div>\n            <h3 class="card-set__title">${c}</h3>\n            <div class="card-set__description">\n            <ul class="card-set__genre">\n                ${r}\n            </ul>\n            <span class="card-set__genre-movie">&nbsp| ${o}</span>\n            </div>\n        </li>`}(e,i))).join("");t.innerHTML="",t.insertAdjacentHTML("afterbegin",a)}(1);
//# sourceMappingURL=index.78774b61.js.map
