var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequire09c9;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,a.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequire09c9=a),a("fQE3M"),a("31u3U"),a("fHPRY"),a("cddKH");var i=a("93eWd");const r={cardSet:document.querySelector(".card-set"),showWatchedBtn:document.querySelector(".header-library__button--watched"),showQueueBtn:document.querySelector(".header-library__button--queue"),paginationSet:document.querySelector(".pagination")},o=document.querySelector(".header-library--watched--spinner"),s=document.querySelector(".header-library--queue--spinner");let c=0;const l=()=>JSON.parse(localStorage.getItem("watched")||"[]"),d=()=>JSON.parse(localStorage.getItem("queue")||"[]"),u=()=>[...JSON.parse(localStorage.getItem("watched")||"[]"),...JSON.parse(localStorage.getItem("queue")||"[]")].filter(((e,t,n)=>n.findIndex((t=>t.id===e.id))===n.indexOf(e))),g=e=>{e.map(p)},p=e=>{const{id:t,poster_path:n,original_title:a,title:c,release_date:l,genres:d,vote_average:u}=e,g=new Date(l).getFullYear().toString(),p=((e,t)=>e.map((e=>t.find((t=>t.id===e)).name)))(d.map((e=>e.id)),d),m=`<li class="card-set__item" data-id="${t}">\n                <div class="card-set__box-img"">\n                <img src="https://image.tmdb.org/t/p/original${n}" alt="${a}"\n                class="card-set__img"\n                />\n                </div>\n                <h3 class="card-set__title">${c}</h3>\n                <div class="card-set__description">\n                <ul class="card-set__genre">\n                    ${(0,i.getGenresMarkup)(p)}\n                </ul>\n                    <span class="card-set__production-year">&nbsp| ${g}&nbsp</span>\n                    <span class="card-set__rating">${u}</span>\n                </div>\n                </li>`;r.cardSet.insertAdjacentHTML("afterbegin",m),o.classList.remove("spinner"),s.classList.remove("spinner")},m=e=>{c=Math.ceil(e.length/6)};r.showWatchedBtn.addEventListener("click",(()=>{o.classList.add("spinner"),r.paginationSet.removeEventListener("click",v),r.paginationSet.removeEventListener("click",S);const e=l(),t=e.slice(0,6);r.cardSet.innerHTML="",m(e),g(t),L(c),r.paginationSet.addEventListener("click",b)})),r.showQueueBtn.addEventListener("click",(()=>{s.classList.add("spinner"),r.paginationSet.removeEventListener("click",v),r.paginationSet.removeEventListener("click",b);const e=d(),t=e.slice(0,6);r.cardSet.innerHTML="",m(e),g(t),L(c),r.paginationSet.addEventListener("click",S)}));const _=(e,t)=>{const n=6*e-6,a=t.splice(n,6);r.cardSet.innerHTML="",g(a),L(c);document.querySelector(".pagination__button--current").classList.remove("pagination__button--current");document.querySelector(`[id="${e}"]`).classList.add("pagination__button--current")},b=e=>{const t=l();getNumberPage=Number(e.target.closest(".pagination__button").id),_(getNumberPage,t)},S=e=>{const t=d();getNumberPage=Number(e.target.closest(".pagination__button").id),_(getNumberPage,t)},v=e=>{const t=u();getNumberPage=Number(e.target.closest(".pagination__button").id),_(getNumberPage,t)},L=e=>{markupEmpty=[];for(let t=1;t<=e;t++){let e="";e=1===t?`<li class="pagination__item">\n        <button class="pagination__button pagination__button--current" id="${t}">${t}</button>\n      </li>`:`<li class="pagination__item">\n        <button class="pagination__button" id="${t}">${t}</button>\n      </li>`,markupEmpty.push(e)}const t=markupEmpty.join("");r.paginationSet.innerHTML="",r.paginationSet.insertAdjacentHTML("afterbegin",t)};(()=>{r.paginationSet.removeEventListener("click",b),r.paginationSet.removeEventListener("click",S);const e=u(),t=e.slice(0,6);r.cardSet.innerHTML="",m(e),g(t),L(c),r.paginationSet.addEventListener("click",v)})();
//# sourceMappingURL=library.e5aa8163.js.map
